<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>QuickBite - Fast Food Billing System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap');
        
        * {
            font-family: 'Poppins', sans-serif;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            position: relative;
            transition: background 0.3s ease;
            overflow-x: hidden;
        }
        
        body.dark-mode {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
        }
        
        .glass-morphism {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            margin-bottom: 100px;
        }
        
        body.dark-mode .glass-morphism {
            background: rgba(30, 30, 46, 0.95);
            color: #e0e0e0;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .food-card {
            transition: all 0.3s ease;
            background: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            position: relative;
          }
        
        body.dark-mode .food-card {
            background: #2a2a3e;
            color: #e0e0e0;
        }
        
        .food-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #667eea, #764ba2, #f093fb, #f5576c);
            background-size: 300% 100%;
            animation: gradient 4s ease infinite;
        }
        
        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .food-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 16px 48px rgba(0,0,0,0.15);
        }
        
        .food-card:hover img {
            transform: scale(1.05);
        }
        
        .food-card img {
            transition: transform 0.3s ease;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(102, 126, 234, 0.4);
        }
        
        .category-btn {
            transition: all 0.3s ease;
        }
        
        .category-btn.active {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%) !important;
            color: white !important;
            transform: scale(1.05);
            box-shadow: 0 4px 16px rgba(240, 147, 251, 0.4);
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 1500;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(8px);
            padding: 10px;
        }
        
        .modal-content {
            background: white;
            padding: 24px;
            border-radius: 20px;
            max-width: 500px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            animation: modalSlideIn 0.3s ease;
        }
        
        body.dark-mode .modal-content {
            background: #2a2a3e;
            color: #e0e0e0;
        }
        
        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-30px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        .toast {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 16px 24px;
            border-radius: 16px;
            box-shadow: 0 12px 32px rgba(0,0,0,0.3);
            z-index: 3000;
            text-align: center;
            min-width: 200px;
        }
        
        .toast.show {
            animation: toastPop 0.4s ease forwards;
        }
        
        @keyframes toastPop {
            0% { transform: translate(-50%, -50%) scale(0); opacity: 0; }
            60% { transform: translate(-50%, -50%) scale(1.05); }
            100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
        }
        
        .toast.hide {
            animation: toastHide 0.3s ease forwards;
        }
        
        @keyframes toastHide {
            to { transform: translate(-50%, -50%) scale(0); opacity: 0; }
        }
        
        .payment-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 12px;
            padding: 16px;
            color: white;
            position: relative;
            overflow: hidden;
            box-shadow: 0 8px 24px rgba(102, 126, 234, 0.3);
        }
        
        .upi-scanner {
            background: #f0f0f0;
            border-radius: 12px;
            padding: 16px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        body.dark-mode .upi-scanner {
            background: #1a1a2e;
        }
        
        .scanner-line {
            position: absolute;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, #667eea, transparent);
            animation: scan 2s linear infinite;
        }
        
        @keyframes scan {
            0% { top: 0; }
            100% { top: 100%; }
        }
        
        .success-animation {
            animation: successPulse 0.5s ease;
        }
        
        @keyframes successPulse {
            0% { transform: scale(0); opacity: 0; }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); opacity: 1; }
        }
        
        .floating {
            animation: floating 4s ease-in-out infinite;
        }
        
        @keyframes floating {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .badge-pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(245, 87, 108, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(245, 87, 108, 0); }
            100% { box-shadow: 0 0 0 0 rgba(245, 87, 108, 0); }
        }
        
        .form-input {
            transition: all 0.3s ease;
            border: 2px solid #e2e8f0;
        }
        
        body.dark-mode .form-input {
            background: #1a1a2e;
            border-color: #444;
            color: #e0e0e0;
        }
        
        .form-input:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .cart-sidebar {
            background: white;
            box-shadow: -8px 0 32px rgba(0,0,0,0.1);
        }
        
        body.dark-mode .cart-sidebar {
            background: #2a2a3e;
            color: #e0e0e0;
        }
        
        .receipt {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(8px);
            padding: 20px;
        }
        
        .receipt-content {
            background: white;
            padding: 24px;
            border-radius: 16px;
            max-width: 400px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            animation: receiptSlideIn 0.3s ease;
        }
        
        body.dark-mode .receipt-content {
            background: #2a2a3e;
            color: #e0e0e0;
        }
        
        @media print {
            body * { visibility: hidden; }
            .receipt, .receipt * { visibility: visible; }
            .receipt { position: absolute; left: 0; top: 0; background: white; }
            .no-print { display: none !important; }
        }
        
        .payment-method-card {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .payment-method-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        
        .payment-method-card.selected {
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.05);
        }
        
        .food-item-badge {
            position: absolute;
            top: 8px;
            right: 8px;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            color: #667eea;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .cart-item-enter {
            animation: cartItemEnter 0.3s ease;
        }
        
        @keyframes cartItemEnter {
            from {
                opacity: 0;
                transform: translateX(15px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        /* Performance optimizations */
        .food-card {
            will-change: transform;
        }
        
        .category-btn {
            will-change: transform;
        }
        
        /* Reduce animations on mobile */
        @media (max-width: 768px) {
            .floating {
                animation: none;
            }
            
            .food-card::before {
                animation: none;
            }
        }
        
        /* Dark mode toggle */
        .dark-mode-toggle {
            position: relative;
            width: 60px;
            height: 30px;
            background: #ccc;
            border-radius: 15px;
            cursor: pointer;
            transition: background 0.3s;
        }
        
        .dark-mode-toggle.active {
            background: #667eea;
        }
        
        .dark-mode-toggle-slider {
            position: absolute;
            top: 3px;
            left: 3px;
            width: 24px;
            height: 24px;
            background: white;
            border-radius: 50%;
            transition: transform 0.3s;
        }
        
        .dark-mode-toggle.active .dark-mode-toggle-slider {
            transform: translateX(30px);
        }
        
       .filter-dropdown {
            position: relative;
            z-index: 9999;
        }
        
        .filter-dropdown-content {
            display: none;
            position: absolute !important;
            z-index: 99999 !important;
            background-color: white;
            min-width: 200px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            border-radius: 8px;
            padding: 10px;
            max-height: 300px;
            overflow-y: auto;
            margin-top: 10px;
        }
        
        body.dark-mode .filter-dropdown-content {
            background-color: #2a2a3e;
            color: #e0e0e0;
            position: absolute !important;
            z-index: 99999 !important;
        }
        
        .filter-dropdown-content.show {
            display: block;
            position: absolute !important;
            z-index: 99999 !important;
        }
        
        .filter-option {
            padding: 8px 12px;
            cursor: pointer;
            border-radius: 100px;
            transition: background 0.2s;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .filter-option:hover {
            background-color: #f1f1f1;
        }
        
        body.dark-mode .filter-option:hover {
            background-color: #3a3a4e;
        }
        
        .filter-option.selected {
            background-color: rgba(102, 126, 234, 0.1);
            color: #667eea;
        }
        
        .filter-option.selected::after {
            content: 'âœ“';
            color: #667eea;
            font-weight: bold;
        }
        
        /* Customization modal styles */
        .customization-option {
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 10px;
            margin-bottom: 10px;
        }
        
        body.dark-mode .customization-option {
            border-color: #444;
        }
        
        .customization-option-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }
        
        .customization-option-content {
            display: none;
        }
        
        .customization-option-content.show {
            display: block;
        }
        
        /* Admin panel improvements */
        .admin-tabs {
            display: flex;
            border-bottom: 1px solid #e2e8f0;
            margin-bottom: 20px;
            overflow-x: auto;
        }
        
        body.dark-mode .admin-tabs {
            border-bottom-color: #444;
        }
        
        .admin-tab {
            padding: 10px 20px;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: all 0.3s;
            white-space: nowrap;
        }
        
        .admin-tab.active {
            border-bottom-color: #667eea;
            color: #667eea;
        }
        
        .admin-tab-content {
            display: none;
        }
        
        .admin-tab-content.active {
            display: block;
        }
        
        /* Token display */
        .token-display {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            font-weight: bold;
            display: inline-block;
            margin: 10px 0;
        }
        
        /* Feedback form */
        .rating-stars {
            display: flex;
            gap: 5px;
            margin: 10px 0;
        }
        
        .rating-star {
            font-size: 24px;
            color: #ccc;
            cursor: pointer;
            transition: color 0.2s;
        }
        
        .rating-star.active {
            color: #ffc107;
        }
        
        /* QR Code container */
        .qrcode-container {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }
        
        /* Sound toggle */
        .sound-toggle {
            position: relative;
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: all 0.3s;
        }
        
        .sound-toggle:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        
        .sound-toggle.muted {
            opacity: 0.5;
        }
        
        /* Current token display in header */
        .current-token-header {
            background: rgba(255, 255, 255, 0.2);
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        /* Filter button replacement */
        .filter-replacement {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            padding: 8px 16px;
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }
        
        body.dark-mode .filter-replacement {
            background: #2a2a3e;
            border-color: #444;
            color: #e0e0e0;
        }
        
        .filter-replacement:hover {
            border-color: #667eea;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.2);
        }
        
        .filter-replacement.active {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            border-color: transparent;
        }
        
        .filter-replacement .clear-filter {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: 4px;
            padding: 2px 6px;
            margin-left: 8px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.2s;
        }
        
        .filter-replacement .clear-filter:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        
        /* Item Added Toast */
        .item-added-toast {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px 30px;
            border-radius: 16px;
            box-shadow: 0 12px 32px rgba(0,0,0,0.3);
            z-index: 3000;
            text-align: center;
            min-width: 250px;
            font-weight: 600;
            font-size: 18px;
        }
        
        .item-added-toast.show {
            animation: itemAddedToastPop 0.4s ease forwards;
        }
        
        @keyframes itemAddedToastPop {
            0% { transform: translate(-50%, -50%) scale(0); opacity: 0; }
            60% { transform: translate(-50%, -50%) scale(1.05); }
            100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
        }
        
        .item-added-toast.hide {
            animation: itemAddedToastHide 0.3s ease forwards;
        }
        
        @keyframes itemAddedToastHide {
            to { transform: translate(-50%, -50%) scale(0); opacity: 0; }
        }
        
        /* Mobile Responsive Improvements */
        @media (max-width: 640px) {
            .container {
                padding-left: 8px;
                padding-right: 8px;
                position: relative;
                z-index: auto;
            }
            
            .modal-content {
                padding: 16px;
                border-radius: 16px;
                margin: 10px;
                max-height: calc(100vh - 20px);
            }
            
            .cart-sidebar {
                width: 100%;
                max-width: 100%;
            }
            
            .admin-panel .modal-content {
                max-width: 95%;
                max-height: 95vh;
                margin: 10px;
            }
            
            .admin-tabs {
                padding-bottom: 5px;
            }
            
            .admin-tab {
                padding: 8px 12px;
                font-size: 14px;
            }
            
            .food-card {
                margin-bottom: 12px;
                z-index: 1;
            }
            
            .filter-replacement {
                padding: 6px 12px;
                font-size: 12px;
            }
            
            .category-btn {
                padding: 6px 12px;
                font-size: 12px;
            }
            
            .btn-primary {
                padding: 8px 12px;
                font-size: 14px;
            }
            
            .current-token-header {
                padding: 3px 10px;
                font-size: 12px;
            }
            
            .dark-mode-toggle {
                width: 50px;
                height: 25px;
            }
            
            .dark-mode-toggle-slider {
                width: 20px;
                height: 20px;
            }
            
            .dark-mode-toggle.active .dark-mode-toggle-slider {
                transform: translateX(25px);
            }
            
            .sound-toggle {
                width: 35px;
                height: 35px;
            }
            
            .food-item-badge {
                font-size: 9px;
                padding: 3px 6px;
            }
            
            .filter-dropdown-content {
                min-width: 160px;
                max-height: 200px;
                position: absolute !important;
                z-index: 99999 !important;         
            }
            
            .filter-option {
                padding: 6px 10px;
                font-size: 12px;
            }
            
            .customization-option {
                padding: 8px;
            }
            
            .customization-option-header {
                font-size: 14px;
            }
            
            .customization-option-content label {
                font-size: 12px;
            }
            
            .rating-stars {
                justify-content: center;
            }
            
            .rating-star {
                font-size: 20px;
            }
            
            .token-display {
                padding: 8px 16px;
                font-size: 14px;
            }
            
            .qrcode-container img {
                width: 100px !important;
                height: 100px !important;
            }
            
            .payment-method-card {
                padding: 8px;
            }
            
            .payment-method-card i {
                font-size: 16px;
            }
            
            .payment-method-card p {
                font-size: 10px;
            }
            
            .form-input {
                padding: 8px 12px;
                font-size: 14px;
            }
            
            .receipt-content {
                padding: 16px;
                max-width: 95%;
            }
            
            .receipt-content h2 {
                font-size: 18px;
            }
            
            .receipt-content p {
                font-size: 12px;
            }
            
            .receipt-content table {
                font-size: 10px;
            }
            
            .receipt-content .flex {
                font-size: 12px;
            }
            
            .receipt-content .font-bold {
                font-size: 14px;
            }
            
            .receipt-content .text-xs {
                font-size: 10px;
            }
            
            .receipt-content .text-sm {
                font-size: 12px;
            }
            
            .receipt-content .text-lg {
                font-size: 16px;
            }
            
            .receipt-content .text-xl {
                font-size: 18px;
            }
            
            .receipt-content .text-2xl {
                font-size: 20px;
            }
            
            .receipt-content .text-3xl {
                font-size: 24px;
            }
            
            .receipt-content .text-4xl {
                font-size: 28px;
            }
            
            .receipt-content .text-5xl {
                font-size: 32px;
            }
            
            .receipt-content .text-6xl {
                font-size: 36px;
            }
            
            .receipt-content .text-7xl {
                font-size: 40px;
            }
            
            .receipt-content .text-8xl {
                font-size: 44px;
            }
            
            .receipt-content .text-9xl {
                font-size: 48px;
            }
            
            .receipt-content .text-10xl {
                font-size: 52px;
            }
            
            .receipt-content .text-11xl {
                font-size: 56px;
            }
            
            .receipt-content .text-12xl {
                font-size: 60px;
            }
            
            .receipt-content .text-13xl {
                font-size: 64px;
            }
            
            .receipt-content .text-14xl {
                font-size: 68px;
            }
            
            .receipt-content .text-15xl {
                font-size: 72px;
            }
            
            .receipt-content .text-16xl {
                font-size: 76px;
            }
            
            .receipt-content .text-17xl {
                font-size: 80px;
            }
            
            .receipt-content .text-18xl {
                font-size: 84px;
            }
            
            .receipt-content .text-19xl {
                font-size: 88px;
            }
            
            .receipt-content .text-20xl {
                font-size: 92px;
            }
            
            .receipt-content .text-21xl {
                font-size: 96px;
            }
            
            .receipt-content .text-22xl {
                font-size: 100px;
            }
            
            .receipt-content .text-23xl {
                font-size: 104px;
            }
            
            .receipt-content .text-24xl {
                font-size: 108px;
            }
            
            .receipt-content .text-25xl {
                font-size: 112px;
            }
            
            .receipt-content .text-26xl {
                font-size: 116px;
            }
            
            .receipt-content .text-27xl {
                font-size: 120px;
            }
            
            .receipt-content .text-28xl {
                font-size: 124px;
            }
            
            .receipt-content .text-29xl {
                font-size: 128px;
            }
            
            .receipt-content .text-30xl {
                font-size: 132px;
            }
            
            .receipt-content .text-31xl {
                font-size: 136px;
            }
            
            .receipt-content .text-32xl {
                font-size: 140px;
            }
            
            .receipt-content .text-33xl {
                font-size: 144px;
            }
            
            .receipt-content .text-34xl {
                font-size: 148px;
            }
            
            .receipt-content .text-35xl {
                font-size: 152px;
            }
            
            .receipt-content .text-36xl {
                font-size: 156px;
            }
            
            .receipt-content .text-37xl {
                font-size: 160px;
            }
            
            .receipt-content .text-38xl {
                font-size: 164px;
            }
            
            .receipt-content .text-39xl {
                font-size: 168px;
            }
            
            .receipt-content .text-40xl {
                font-size: 172px;
            }
            
            .receipt-content .text-41xl {
                font-size: 176px;
            }
            
            .receipt-content .text-42xl {
                font-size: 180px;
            }
            
            .receipt-content .text-43xl {
                font-size: 184px;
            }
            
            .receipt-content .text-44xl {
                font-size: 188px;
            }
            
            .receipt-content .text-45xl {
                font-size: 192px;
            }
            
            .receipt-content .text-46xl {
                font-size: 196px;
            }
            
            .receipt-content .text-47xl {
                font-size: 200px;
            }
            
            .receipt-content .text-48xl {
                font-size: 204px;
            }
            
            .receipt-content .text-49xl {
                font-size: 208px;
            }
            
            .receipt-content .text-50xl {
                font-size: 212px;
            }
            
            .receipt-content .text-51xl {
                font-size: 216px;
            }
            
            .receipt-content .text-52xl {
                font-size: 220px;
            }
            
            .receipt-content .text-53xl {
                font-size: 224px;
            }
            
            .receipt-content .text-54xl {
                font-size: 228px;
            }
            
            .receipt-content .text-55xl {
                font-size: 232px;
            }
            
            .receipt-content .text-56xl {
                font-size: 236px;
            }
            
            .receipt-content .text-57xl {
                font-size: 240px;
            }
            
            .receipt-content .text-58xl {
                font-size: 244px;
            }
            
            .receipt-content .text-59xl {
                font-size: 248px;
            }
            
            .receipt-content .text-60xl {
                font-size: 252px;
            }
            
            .receipt-content .text-61xl {
                font-size: 256px;
            }
            
            .receipt-content .text-62xl {
                font-size: 260px;
            }
            
            .receipt-content .text-63xl {
                font-size: 264px;
            }
            
            .receipt-content .text-64xl {
                font-size: 268px;
            }
            
            .receipt-content .text-65xl {
                font-size: 272px;
            }
            
            .receipt-content .text-66xl {
                font-size: 276px;
            }
            
            .receipt-content .text-67xl {
                font-size: 280px;
            }
            
            .receipt-content .text-68xl {
                font-size: 284px;
            }
            
            .receipt-content .text-69xl {
                font-size: 288px;
            }
            
            .receipt-content .text-70xl {
                font-size: 292px;
            }
            
            .receipt-content .text-71xl {
                font-size: 296px;
            }
            
            .receipt-content .text-72xl {
                font-size: 300px;
            }
            
            .receipt-content .text-73xl {
                font-size: 304px;
            }
            
            .receipt-content .text-74xl {
                font-size: 308px;
            }
            
            .receipt-content .text-75xl {
                font-size: 312px;
            }
            
            .receipt-content .text-76xl {
                font-size: 316px;
            }
            
            .receipt-content .text-77xl {
                font-size: 320px;
            }
            
            .receipt-content .text-78xl {
                font-size: 324px;
            }
            
            .receipt-content .text-79xl {
                font-size: 328px;
            }
            
            .receipt-content .text-80xl {
                font-size: 332px;
            }
            
            .receipt-content .text-81xl {
                font-size: 336px;
            }
            
            .receipt-content .text-82xl {
                font-size: 340px;
            }
            
            .receipt-content .text-83xl {
                font-size: 344px;
            }
            
            .receipt-content .text-84xl {
                font-size: 348px;
            }
            
            .receipt-content .text-85xl {
                font-size: 352px;
            }
            
            .receipt-content .text-86xl {
                font-size: 356px;
            }
            
            .receipt-content .text-87xl {
                font-size: 360px;
            }
            
            .receipt-content .text-88xl {
                font-size: 364px;
            }
            
            .receipt-content .text-89xl {
                font-size: 368px;
            }
            
            .receipt-content .text-90xl {
                font-size: 372px;
            }
            
            .receipt-content .text-91xl {
                font-size: 376px;
            }
            
            .receipt-content .text-92xl {
                font-size: 380px;
            }
            
            .receipt-content .text-93xl {
                font-size: 384px;
            }
            
            .receipt-content .text-94xl {
                font-size: 388px;
            }
            
            .receipt-content .text-95xl {
                font-size: 392px;
            }
            
            .receipt-content .text-96xl {
                font-size: 396px;
            }
            
            .receipt-content .text-97xl {
                font-size: 400px;
            }
            
            .receipt-content .text-98xl {
                font-size: 404px;
            }
            
            .receipt-content .text-99xl {
                font-size: 408px;
            }
            
            .receipt-content .text-100xl {
                font-size: 412px;
            }
            
            /* Header adjustments for very small screens */
            .header-title {
                font-size: 16px !important;
            }
            
            .header-subtitle {
                font-size: 10px !important;
            }
            
            .header-buttons {
                gap: 4px !important;
            }
            
            .header-button {
                padding: 6px 8px !important;
                font-size: 11px !important;
            }
            
            /* Cart adjustments for mobile */
            .cart-sidebar {
                width: 100% !important;
                max-width: 100% !important;
            }
            
            .cart-header {
                padding: 12px !important;
            }
            
            .cart-title {
                font-size: 18px !important;
            }
            
            .cart-items {
                padding: 12px !important;
            }
            
            .cart-item {
                padding: 8px !important;
                margin-bottom: 8px !important;
            }
            
            .cart-item-name {
                font-size: 12px !important;
            }
            
            .cart-item-price {
                font-size: 10px !important;
            }
            
            .cart-quantity {
                font-size: 10px !important;
            }
            
            .cart-total {
                font-size: 16px !important;
            }
            
            .cart-checkout {
                padding: 10px !important;
                font-size: 14px !important;
            }
            
            /* Food cards adjustments */
            .food-card {
                min-height: 200px !important;
            }
            
            .food-card-image {
                height: 120px !important;
            }
            
            .food-card-title {
                font-size: 12px !important;
            }
            
            .food-card-description {
                font-size: 10px !important;
                line-height: 1.2 !important;
            }
            
            .food-card-price {
                font-size: 14px !important;
            }
            
            .food-card-button {
                padding: 6px !important;
                font-size: 11px !important;
            }
            
            /* Filter adjustments */
            .search-input {
                padding: 8px 12px !important;
                font-size: 14px !important;
            }
            
            .filter-buttons {
                gap: 4px !important;
            }
            
            .filter-button {
                padding: 4px 8px !important;
                font-size: 11px !important;
            }
            
            .category-buttons {
                gap: 4px !important;
            }
            
            .category-button {
                padding: 4px 8px !important;
                font-size: 11px !important;
            }
            
            /* Modal adjustments */
            .modal-content {
                max-width: calc(100% - 20px) !important;
                margin: 10px !important;
            }
            
            .modal-title {
                font-size: 18px !important;
            }
            
            .modal-form {
                gap: 12px !important;
            }
            
            .modal-label {
                font-size: 12px !important;
            }
            
            .modal-input {
                padding: 8px 12px !important;
                font-size: 14px !important;
            }
            
            .modal-button {
                padding: 8px 12px !important;
                font-size: 14px !important;
            }
            
            /* Payment success adjustments */
            .success-icon {
                width: 60px !important;
                height: 60px !important;
            }
            
            .success-title {
                font-size: 20px !important;
            }
            
            .success-token {
                font-size: 16px !important;
                padding: 8px 16px !important;
            }
            
            .success-message {
                font-size: 14px !important;
            }
            
            .success-buttons {
                gap: 8px !important;
            }
            
            .success-button {
                padding: 8px 12px !important;
                font-size: 14px !important;
            }
            
            /* Receipt adjustments */
            .receipt-content {
                max-width: calc(100% - 20px) !important;
                margin: 10px !important;
            }
            
            .receipt-title {
                font-size: 18px !important;
            }
            
            .receipt-subtitle {
                font-size: 12px !important;
            }
            
            .receipt-address {
                font-size: 10px !important;
            }
            
            .receipt-info {
                font-size: 10px !important;
            }
            
            .receipt-label {
                font-size: 10px !important;
            }
            
            .receipt-value {
                font-size: 10px !important;
            }
            
            .receipt-items {
                font-size: 10px !important;
            }
            
            .receipt-total {
                font-size: 12px !important;
            }
            
            .receipt-thanks {
                font-size: 10px !important;
            }
            
            .receipt-buttons {
                gap: 8px !important;
            }
            
            .receipt-button {
                padding: 8px 12px !important;
                font-size: 14px !important;
            }
            
            /* Feedback adjustments */
            .feedback-title {
                font-size: 18px !important;
            }
            
            .feedback-form {
                gap: 12px !important;
            }
            
            .feedback-label {
                font-size: 12px !important;
            }
            
            .feedback-input {
                padding: 8px 12px !important;
                font-size: 14px !important;
            }
            
            .feedback-textarea {
                padding: 8px 12px !important;
                font-size: 14px !important;
            }
            
            .feedback-stars {
                gap: 4px !important;
            }
            
            .feedback-star {
                font-size: 20px !important;
            }
            
            .feedback-buttons {
                gap: 8px !important;
            }
            
            .feedback-button {
                padding: 8px 12px !important;
                font-size: 14px !important;
            }
            
            /* Admin panel adjustments */
            .admin-title {
                font-size: 18px !important;
            }
            
            .admin-tabs {
                gap: 4px !important;
            }
            
            .admin-tab {
                padding: 6px 12px !important;
                font-size: 12px !important;
            }
            
            .admin-content {
                padding: 12px !important;
            }
            
            .admin-form {
                gap: 12px !important;
            }
            
            .admin-label {
                font-size: 12px !important;
            }
            
            .admin-input {
                padding: 8px 12px !important;
                font-size: 14px !important;
            }
            
            .admin-button {
                padding: 8px 12px !important;
                font-size: 14px !important;
            }
            
            .admin-table {
                font-size: 10px !important;
            }
            
            .admin-th {
                padding: 4px !important;
                font-size: 10px !important;
            }
            
            .admin-td {
                padding: 4px !important;
                font-size: 10px !important;
            }
            
            .admin-select {
                padding: 4px !important;
                font-size: 10px !important;
            }
            
            .admin-icon {
                font-size: 12px !important;
            }
            
            /* Toast adjustments */
            .toast {
                min-width: 150px !important;
                padding: 12px 16px !important;
            }
            
            .toast-icon {
                font-size: 16px !important;
            }
            
            .toast-message {
                font-size: 12px !important;
            }
            
            /* Item Added Toast adjustments */
            .item-added-toast {
                min-width: 200px !important;
                padding: 16px 24px !important;
                font-size: 16px !important;
            }
        }
        
        /* Extra small screens */
        @media (max-width: 360px) {
            .container {
                padding-left: 4px;
                padding-right: 4px;
                position: relative;
                z-index: auto;
            }
            
            .food-card {
                min-height: 180px !important;
            }
            
            .food-card-image {
                height: 100px !important;
            }
            
            .food-card-title {
                font-size: 11px !important;
            }
            
            .food-card-description {
                font-size: 9px !important;
            }
            
            .food-card-price {
                font-size: 12px !important;
            }
            
            .food-card-button {
                padding: 4px !important;
                font-size: 10px !important;
            }
            
            .header-title {
                font-size: 14px !important;
            }
            
            .header-subtitle {
                font-size: 9px !important;
            }
            
            .header-button {
                padding: 4px 6px !important;
                font-size: 10px !important;
            }
            
            .cart-title {
                font-size: 16px !important;
            }
            
            .cart-total {
                font-size: 14px !important;
            }
            
            .cart-checkout {
                padding: 8px !important;
                font-size: 12px !important;
            }
            
            .modal-title {
                font-size: 16px !important;
            }
            
            .modal-label {
                font-size: 11px !important;
            }
            
            .modal-input {
                padding: 6px 10px !important;
                font-size: 12px !important;
            }
            
            .modal-button {
                padding: 6px 10px !important;
                font-size: 12px !important;
            }
            
            .success-title {
                font-size: 18px !important;
            }
            
            .success-token {
                font-size: 14px !important;
                padding: 6px 12px !important;
            }
            
            .success-message {
                font-size: 12px !important;
            }
            
            .success-button {
                padding: 6px 10px !important;
                font-size: 12px !important;
            }
            
            .receipt-title {
                font-size: 16px !important;
            }
            
            .receipt-subtitle {
                font-size: 11px !important;
            }
            
            .receipt-address {
                font-size: 9px !important;
            }
            
            .receipt-info {
                font-size: 9px !important;
            }
            
            .receipt-label {
                font-size: 9px !important;
            }
            
            .receipt-value {
                font-size: 9px !important;
            }
            
            .receipt-items {
                font-size: 9px !important;
            }
            
            .receipt-total {
                font-size: 11px !important;
            }
            
            .receipt-thanks {
                font-size: 9px !important;
            }
            
            .receipt-button {
                padding: 6px 10px !important;
                font-size: 12px !important;
            }
            
            .feedback-title {
                font-size: 16px !important;
            }
            
            .feedback-label {
                font-size: 11px !important;
            }
            
            .feedback-input {
                padding: 6px 10px !important;
                font-size: 12px !important;
            }
            
            .feedback-textarea {
                padding: 6px 10px !important;
                font-size: 12px !important;
            }
            
            .feedback-star {
                font-size: 18px !important;
            }
            
            .feedback-button {
                padding: 6px 10px !important;
                font-size: 12px !important;
            }
            
            .admin-title {
                font-size: 16px !important;
            }
            
            .admin-tab {
                padding: 4px 8px !important;
                font-size: 11px !important;
            }
            
            .admin-label {
                font-size: 11px !important;
            }
            
            .admin-input {
                padding: 6px 10px !important;
                font-size: 12px !important;
            }
            
            .admin-button {
                padding: 6px 10px !important;
                font-size: 12px !important;
            }
            
            .admin-table {
                font-size: 9px !important;
            }
            
            .admin-th {
                padding: 2px !important;
                font-size: 9px !important;
            }
            
            .admin-td {
                padding: 2px !important;
                font-size: 9px !important;
            }
            
            .admin-select {
                padding: 2px !important;
                font-size: 9px !important;
            }
            
            .admin-icon {
                font-size: 10px !important;
            }
            
            .toast {
                min-width: 120px !important;
                padding: 8px 12px !important;
            }
            
            .toast-icon {
                font-size: 14px !important;
            }
            
            .toast-message {
                font-size: 11px !important;
            }
            
            .item-added-toast {
                min-width: 180px !important;
                padding: 14px 20px !important;
                font-size: 14px !important;
            }
        }
        
        /* Landscape mode adjustments */
        @media (max-width: 640px) and (orientation: landscape) {
            .food-card {
                min-height: 160px !important;
            }
            
            .food-card-image {
                height: 80px !important;
            }
            
            .food-card-title {
                font-size: 10px !important;
            }
            
            .food-card-description {
                font-size: 8px !important;
            }
            
            .food-card-price {
                font-size: 11px !important;
            }
            
            .food-card-button {
                padding: 3px !important;
                font-size: 9px !important;
            }
            
            .modal-content {
                max-height: 90vh !important;
                overflow-y: auto !important;
            }
            
            .cart-sidebar {
                height: 100vh !important;
            }
            
            .admin-panel .modal-content {
                max-height: 90vh !important;
                overflow-y: auto !important;
            }
        }
        
        /* High DPI screens */
        @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
            .food-card img {
                image-rendering: -webkit-optimize-contrast;
                image-rendering: crisp-edges;
            }
            
            .qrcode-container img {
                image-rendering: -webkit-optimize-contrast;
                image-rendering: crisp-edges;
            }
        }
        
        /* Touch devices */
        @media (hover: none) and (pointer: coarse) {
            .food-card:hover {
                transform: none;
            }
            
            .food-card:active {
                transform: scale(0.98);
            }
            
            .btn-primary:hover {
                transform: none;
            }
            
            .btn-primary:active {
                transform: scale(0.98);
            }
            
            .category-btn:hover {
                transform: none;
            }
            
            .category-btn:active {
                transform: scale(0.98);
            }
            
            .payment-method-card:hover {
                transform: none;
            }
            
            .payment-method-card:active {
                transform: scale(0.98);
            }
            
            .filter-replacement:hover {
                transform: none;
            }
            
            .filter-replacement:active {
                transform: scale(0.98);
            }
        }
        
        /* Reduce motion for accessibility */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
        
        /* Ensure proper viewport on iOS */
        @supports (-webkit-touch-callout: none) {
            .modal-content {
                -webkit-overflow-scrolling: touch;
            }
            
            .cart-sidebar {
                -webkit-overflow-scrolling: touch;
            }
            
            .admin-panel .modal-content {
                -webkit-overflow-scrolling: touch;
            }
        }
        
        /* Rating stars display improvements */
        .rating-display {
            display: flex;
            align-items: center;
            gap: 4px;
            margin-top: 4px;
        }
        
        .rating-star {
            font-size: 14px;
            color: #ffc107;
        }
        
        .rating-star.empty {
            color: #e0e0e0;
        }
        
        .rating-value {
            font-size: 12px;
            color: #666;
            margin-left: 4px;
        }
        
        body.dark-mode .rating-value {
            color: #aaa;
        }
        
        /* Rating filter improvements */
        .rating-filter-option {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .rating-filter-stars {
            display: flex;
            gap: 2px;
        }
        
        .rating-filter-star {
            font-size: 12px;
            color: #ffc107;
        }
        
        /* Mobile spacing improvements */
        @media (max-width: 640px) {
            .rating-display {
                margin-top: 2px;
            }
            .rating-display {
                margin-left: 12px;
            }
            
            .rating-star {
                font-size: 6px;
            }
            
            .rating-value {
                font-size: 10px;
            }
            
            .food-card {
                margin-bottom: 8px;
            }
            
            .filter-buttons {
                margin-bottom: 8px;
            }
            
            .category-buttons {
                margin-bottom: 8px;
            }
            
            .food-items {
                margin-top: 8px;
            }
        }

    </style>
</head>
<body>
    <!-- Header -->
    <header class="bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-xl sticky top-0 z-40">
        <div class="container mx-auto px-4 py-3">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-3">
                    <div class="floating">
                        <i class="fas fa-hamburger text-3xl text-yellow-300"></i>
                    </div>
                    <div>
                        <h1 class="text-xl md:text-2xl font-bold header-title">QuickBite</h1>
                        <p class="text-xs opacity-90 header-subtitle">Delicious Food, Fast Service</p>
                    </div>
                </div>
                <div class="flex items-center gap-2 md:gap-4 header-buttons">
                    <div class="current-token-header">
                        <i class="fas fa-ticket-alt"></i>
                        <span id="current-token-header">T001</span>
                    </div>
                    <div class="sound-toggle" id="sound-toggle" title="Toggle Sound">
                        <i class="fas fa-volume-up"></i>
                    </div>
                    <div class="dark-mode-toggle" id="dark-mode-toggle" title="Toggle Dark Mode">
                        <div class="dark-mode-toggle-slider"></div>
                    </div>
                    <button onclick="showAdminLogin()" class="bg-white text-purple-600 px-3 py-2 rounded-full hover:bg-gray-100 transition text-sm header-button">
                        <i class="fas fa-user-shield mr-1"></i>
                        <span class="hidden md:inline">Admin</span>
                    </button>
                    <button onclick="toggleCart()" class="relative bg-white text-purple-600 px-3 py-2 rounded-full hover:bg-gray-100 transition text-sm header-button">
                        <i class="fas fa-shopping-cart mr-1"></i>
                        <span class="hidden md:inline">Cart</span>
                        <span id="cart-count" class="absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs">0</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-6">
        <!-- Search and Filter Section -->
        <section class="mb-6">
            <div class="glass-morphism rounded-xl shadow-lg p-4">
                <div class="flex flex-col gap-4">
                    <div class="relative">
                        <input type="text" id="search-input" placeholder="ðŸ” Search for food..." 
                               class="w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:border-purple-500 form-input search-input">
                        <i class="fas fa-search absolute left-3 top-3 text-gray-400"></i>
                    </div>
                    
                    <!-- Advanced Filter Bar -->
                    <div class="flex flex-wrap gap-2 items-center filter-buttons">
                        <!-- Price Filter -->
                        <div class="filter-dropdown">
                            <button class="filter-replacement" id="price-filter-btn" onclick="toggleDropdown('price-dropdown')">
                                <i class="fas fa-tag"></i>
                                <span id="price-filter-text">Price</span>
                                <i class="fas fa-chevron-down text-xs"></i>
                            </button>
                            <div id="price-dropdown" class="filter-dropdown-content">
                                <div class="filter-option selected" data-value="all" onclick="selectFilter('price', 'all')">All Prices</div>
                                <div class="filter-option" data-value="0-100" onclick="selectFilter('price', '0-100')">Under â‚¹100</div>
                                <div class="filter-option" data-value="100-200" onclick="selectFilter('price', '100-200')">â‚¹100 - â‚¹200</div>
                                <div class="filter-option" data-value="200-300" onclick="selectFilter('price', '200-300')">â‚¹200 - â‚¹300</div>
                                <div class="filter-option" data-value="300+" onclick="selectFilter('price', '300+')">Above â‚¹300</div>
                            </div>
                        </div>
                        
                        <!-- Type Filter -->
                        <div class="filter-dropdown">
                            <button class="filter-replacement" id="type-filter-btn" onclick="toggleDropdown('type-dropdown')">
                                <i class="fas fa-utensils"></i>
                                <span id="type-filter-text">Type</span>
                                <i class="fas fa-chevron-down text-xs"></i>
                            </button>
                            <div id="type-dropdown" class="filter-dropdown-content">
                                <div class="filter-option selected" data-value="all" onclick="selectFilter('type', 'all')">All Types</div>
                                <div class="filter-option" data-value="veg" onclick="selectFilter('type', 'veg')">Vegetarian</div>
                                <div class="filter-option" data-value="non-veg" onclick="selectFilter('type', 'non-veg')">Non-Vegetarian</div>
                                <div class="filter-option" data-value="vegan" onclick="selectFilter('type', 'vegan')">Vegan</div>
                            </div>
                        </div>
                        
                        <!-- Rating Filter -->
                        <div class="filter-dropdown">
                            <button class="filter-replacement" id="rating-filter-btn" onclick="toggleDropdown('rating-dropdown')">
                                <i class="fas fa-star"></i>
                                <span id="rating-filter-text">Rating</span>
                                <i class="fas fa-chevron-down text-xs"></i>
                            </button>
                            <div id="rating-dropdown" class="filter-dropdown-content">
                                <div class="filter-option selected" data-value="all" onclick="selectFilter('rating', 'all')">All Ratings</div>
                                <div class="filter-option rating-filter-option" data-value="4+" onclick="selectFilter('rating', '4+')">
                                    <span>4+ Stars</span>
                                    <div class="rating-filter-stars">
                                        <i class="fas fa-star rating-filter-star"></i>
                                        <i class="fas fa-star rating-filter-star"></i>
                                        <i class="fas fa-star rating-filter-star"></i>
                                        <i class="fas fa-star rating-filter-star"></i>
                                        <i class="far fa-star rating-filter-star"></i>
                                    </div>
                                </div>
                                <div class="filter-option rating-filter-option" data-value="3+" onclick="selectFilter('rating', '3+')">
                                    <span>3+ Stars</span>
                                    <div class="rating-filter-stars">
                                        <i class="fas fa-star rating-filter-star"></i>
                                        <i class="fas fa-star rating-filter-star"></i>
                                        <i class="fas fa-star rating-filter-star"></i>
                                        <i class="far fa-star rating-filter-star"></i>
                                        <i class="far fa-star rating-filter-star"></i>
                                    </div>
                                </div>
                                <div class="filter-option rating-filter-option" data-value="2+" onclick="selectFilter('rating', '2+')">
                                    <span>2+ Stars</span>
                                    <div class="rating-filter-stars">
                                        <i class="fas fa-star rating-filter-star"></i>
                                        <i class="fas fa-star rating-filter-star"></i>
                                        <i class="far fa-star rating-filter-star"></i>
                                        <i class="far fa-star rating-filter-star"></i>
                                        <i class="far fa-star rating-filter-star"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Availability Filter -->
                        <div class="filter-dropdown">
                            <button class="filter-replacement" id="availability-filter-btn" onclick="toggleDropdown('availability-dropdown')">
                                <i class="fas fa-clock"></i>
                                <span id="availability-filter-text">Availability</span>
                                <i class="fas fa-chevron-down text-xs"></i>
                            </button>
                            <div id="availability-dropdown" class="filter-dropdown-content">
                                <div class="filter-option selected" data-value="all" onclick="selectFilter('availability', 'all')">All Items</div>
                                <div class="filter-option" data-value="available" onclick="selectFilter('availability', 'available')">Available Now</div>
                                <div class="filter-option" data-value="popular" onclick="selectFilter('availability', 'popular')">Popular</div>
                                <div class="filter-option" data-value="new" onclick="selectFilter('availability', 'new')">New Arrivals</div>
                            </div>
                        </div>
                        
                        <button onclick="clearFilters()" class="bg-red-500 text-white px-3 py-2 rounded-lg text-sm filter-button">
                            <i class="fas fa-times mr-1"></i> Clear All
                        </button>
                    </div>
                    
                    <!-- Category Buttons -->
                    <div class="flex gap-2 overflow-x-auto pb-2 category-buttons">
                        <button onclick="filterByCategory('all')" class="category-btn active px-3 py-2 rounded-lg border whitespace-nowrap text-sm bg-white category-button">
                            <i class="fas fa-utensils mr-1"></i> All
                        </button>
                        <button onclick="filterByCategory('burger')" class="category-btn px-3 py-2 rounded-lg border whitespace-nowrap text-sm bg-white category-button">
                            <i class="fas fa-hamburger mr-1"></i> Burgers
                        </button>
                        <button onclick="filterByCategory('pizza')" class="category-btn px-3 py-2 rounded-lg border whitespace-nowrap text-sm bg-white category-button">
                            <i class="fas fa-pizza-slice mr-1"></i> Pizza
                        </button>
                        <button onclick="filterByCategory('sandwich')" class="category-btn px-3 py-2 rounded-lg border whitespace-nowrap text-sm bg-white category-button">
                            <i class="fas fa-bread-slice mr-1"></i> Sandwich
                        </button>
                        <button onclick="filterByCategory('pasta')" class="category-btn px-3 py-2 rounded-lg border whitespace-nowrap text-sm bg-white category-button">
                            <i class="fas fa-bowl-food mr-1"></i> Pasta
                        </button>
                        <button onclick="filterByCategory('rolls')" class="category-btn px-3 py-2 rounded-lg border whitespace-nowrap text-sm bg-white category-button">
                            <i class="fas fa-drumstick-bite mr-1"></i> Rolls
                        </button>
                        <button onclick="filterByCategory('chinese')" class="category-btn px-3 py-2 rounded-lg border whitespace-nowrap text-sm bg-white category-button">
                            <i class="fas fa-bowl-rice mr-1"></i> Chinese
                        </button>
                        <button onclick="filterByCategory('drink')" class="category-btn px-3 py-2 rounded-lg border whitespace-nowrap text-sm bg-white category-button">
                            <i class="fas fa-glass-water mr-1"></i> Drinks
                        </button>
                        <button onclick="filterByCategory('dessert')" class="category-btn px-3 py-2 rounded-lg border whitespace-nowrap text-sm bg-white category-button">
                            <i class="fas fa-ice-cream mr-1"></i> Desserts
                        </button>
                        <button onclick="filterByCategory('combo')" class="category-btn px-3 py-2 rounded-lg border whitespace-nowrap text-sm bg-white category-button">
                            <i class="fas fa-box mr-1"></i> Combos
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Food Items Grid -->
        <section id="food-items" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 food-items">
            <!-- Food items will be dynamically inserted here -->
        </section>
    </main>

    <!-- Shopping Cart Sidebar -->
    <div id="cart-sidebar" class="cart-sidebar fixed right-0 top-0 h-full w-80 md:w-96 transform translate-x-full transition-transform duration-300 z-50">
        <div class="p-4 border-b bg-gradient-to-r from-purple-600 to-pink-600 text-white cart-header">
            <div class="flex justify-between items-center">
                <h2 class="text-xl font-bold cart-title">Your Cart</h2>
                <button onclick="toggleCart()" class="text-white hover:text-gray-200">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
        </div>
        <div class="flex-1 overflow-y-auto p-4 cart-items" style="height: calc(100% - 180px);">
            <div id="cart-items" class="space-y-3">
                <!-- Cart items will be dynamically inserted here -->
            </div>
        </div>
        <div class="border-t p-4 bg-gray-50">
            <div class="flex justify-between mb-3">
                <span class="font-semibold">Total:</span>
                <span id="cart-total" class="text-xl font-bold text-purple-600 cart-total">â‚¹0.00</span>
            </div>
            <button onclick="proceedToCheckout()" class="w-full btn-primary text-white py-3 rounded-lg font-semibold cart-checkout">
                Proceed to Checkout
            </button>
        </div>
    </div>

    <!-- Item Customization Modal -->
    <div id="customization-modal" class="modal">
        <div class="modal-content">
            <h2 class="text-2xl font-bold mb-4 text-center bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent modal-title">Customize Your Order</h2>
            <div id="customization-content">
                <!-- Customization options will be dynamically inserted here -->
            </div>
            <div class="flex gap-2 pt-4">
                <button onclick="closeCustomization()" class="flex-1 px-4 py-2 border rounded-lg hover:bg-gray-100 transition modal-button">
                    Cancel
                </button>
                <button onclick="addToCartWithCustomization()" class="flex-1 btn-primary text-white py-2 rounded-lg font-semibold modal-button">
                    Add to Cart
                </button>
            </div>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div id="checkout-modal" class="modal">
        <div class="modal-content">
            <h2 class="text-2xl font-bold mb-4 text-center bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent modal-title">Checkout Details</h2>
            <form id="checkout-form" class="space-y-3 modal-form">
                <div>
                    <label class="block text-sm font-medium mb-1 modal-label">Full Name</label>
                    <input type="text" id="customer-name" required class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500 form-input modal-input">
                </div>
                <div>
                    <label class="block text-sm font-medium mb-1 modal-label">Phone Number</label>
                    <input type="tel" id="customer-phone" required class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500 form-input modal-input">
                </div>
                <div>
                    <label class="block text-sm font-medium mb-1 modal-label">Email Address</label>
                    <input type="email" id="customer-email" required class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500 form-input modal-input">
                </div> 
                    <!-- Dine-In / Take-Away Option -->
    <div>
        <label class="block text-sm font-medium mb-1 modal-label">Order Type</label>
        <select id="order-type" required
            class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500 form-input modal-input">
            <option value="" disabled selected>Select Option</option>
            <option value="dine-in">ðŸ½ï¸ Dine-In</option>
            <option value="take-away">ðŸ¥¡ Take-Away</option>
        </select>
    </div>

                
                <!-- Payment Method Selection -->
                <div>
                    <label class="block text-sm font-medium mb-1 modal-label">Payment Method</label>
                    <div class="grid grid-cols-3 gap-2">
                        <div class="payment-method-card border rounded-lg p-2 text-center" onclick="selectPaymentMethod('card')">
                            <i class="fas fa-credit-card text-xl mb-1 text-purple-600"></i>
                            <p class="text-xs">Card</p>
                        </div>
                        <div class="payment-method-card border rounded-lg p-2 text-center" onclick="selectPaymentMethod('upi')">
                            <i class="fas fa-qrcode text-xl mb-1 text-purple-600"></i>
                            <p class="text-xs">UPI</p>
                        </div>
                        <div class="payment-method-card border rounded-lg p-2 text-center" onclick="selectPaymentMethod('wallet')">
                            <i class="fas fa-wallet text-xl mb-1 text-purple-600"></i>
                            <p class="text-xs">Wallet</p>
                        </div>
                    </div>
                </div>
                
                <!-- Card Payment Form -->
                <div id="card-payment-form" class="hidden space-y-3">
                    <div>
                        <label class="block text-sm font-medium mb-1 modal-label">Card Number</label>
                        <input type="text" id="card-number" placeholder="1234 5678 9012 3456" maxlength="19" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500 form-input modal-input">
                    </div>
                    <div class="grid grid-cols-2 gap-2">
                        <div>
                            <label class="block text-sm font-medium mb-1 modal-label">Expiry</label>
                            <input type="text" id="card-expiry" placeholder="MM/YY" maxlength="5" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500 form-input modal-input">
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-1 modal-label">CVV</label>
                            <input type="text" id="card-cvv" placeholder="123" maxlength="3" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500 form-input modal-input">
                        </div>
                    </div>
                </div>
                
                <!-- UPI Payment Form -->
                <div id="upi-payment-form" class="hidden">
                    <div class="upi-scanner">
                        <div class="scanner-line"></div>
                        <div class="mb-3">
                            <div class="w-24 h-24 mx-auto bg-white p-2 rounded-lg">
                                <img src="https://api.qrserver.com/v1/create-qr-code/?size=120x120&data=upi://pay?pa=quickbite@okbank&pn=QuickBite&am=0&cu=INR" alt="UPI QR Code" class="w-full h-full">
                            </div>
                        </div>
                        <p class="text-gray-600 text-xs mb-2">Scan QR code with any UPI app</p>
                        <div>
                            <label class="block text-sm font-medium mb-1 modal-label">Or enter UPI ID</label>
                            <input type="text" id="upi-id" placeholder="username@upi" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500 form-input modal-input">
                        </div>
                    </div>
                </div>
                
                <!-- Wallet Payment Form -->
                <div id="wallet-payment-form" class="hidden">
                    <div class="grid grid-cols-2 gap-2">
                        <button type="button" class="p-2 border rounded-lg hover:border-purple-500 transition flex flex-col items-center">
                            <i class="fab fa-google-pay text-xl mb-1"></i>
                            <p class="text-xs">Google Pay</p>
                        </button>
                        <button type="button" class="p-2 border rounded-lg hover:border-purple-500 transition flex flex-col items-center">
                            <i class="fab fa-apple-pay text-xl mb-1"></i>
                            <p class="text-xs">Apple Pay</p>
                        </button>
                        <button type="button" class="p-2 border rounded-lg hover:border-purple-500 transition flex flex-col items-center">
                            <i class="fab fa-amazon text-xl mb-1"></i>
                            <p class="text-xs">Amazon Pay</p>
                        </button>
                        <button type="button" class="p-2 border rounded-lg hover:border-purple-500 transition flex flex-col items-center">
                            <i class="fab fa-paypal text-xl mb-1"></i>
                            <p class="text-xs">PayPal</p>
                        </button>
                    </div>
                </div>
                
                <div class="flex gap-2 pt-2">
                    <button type="button" onclick="closeCheckout()" class="flex-1 px-4 py-2 border rounded-lg hover:bg-gray-100 transition modal-button">
                        Cancel
                    </button>
                    <button type="submit" class="flex-1 btn-primary text-white py-2 rounded-lg font-semibold modal-button">
                        Pay Now
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Payment Success Modal -->
    <div id="payment-success-modal" class="modal">
        <div class="modal-content text-center">
            <div class="success-animation mb-4">
                <div class="w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-3 success-icon">
                    <i class="fas fa-check text-white text-3xl"></i>
                </div>
            </div>
            <h2 class="text-2xl font-bold mb-3 text-green-600 success-title">Payment Successful!</h2>
            <div class="token-display mb-3 success-token">
                Your Token Number: <span id="token-number">T001</span>
            </div>
            <p class="text-gray-600 mb-4 success-message">Your order has been placed successfully</p>
            <div class="flex gap-2 success-buttons">
                <button onclick="printReceipt()" class="flex-1 bg-green-500 text-white py-2 rounded-lg hover:bg-green-600 transition success-button">
                    <i class="fas fa-print mr-2"></i>Print Receipt
                </button>
                <button onclick="downloadReceipt()" class="flex-1 bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition success-button">
                    <i class="fas fa-download mr-2"></i>Download Bill
                </button>
                <button onclick="closePaymentSuccess()" class="flex-1 bg-gray-500 text-white py-2 rounded-lg hover:bg-gray-600 transition success-button">
                    Close
                </button>
            </div>
        </div>
    </div>

    <!-- Receipt Modal -->
    <div id="receipt-modal" class="receipt">
        <div class="receipt-content">
            <div class="text-center mb-4">
                <h2 class="text-xl font-bold text-purple-600 receipt-title">QuickBite</h2>
                <p class="text-gray-600 text-sm receipt-subtitle">Fast Food Restaurant</p>
                <p class="text-xs text-gray-500 receipt-address">123 Food Street, City</p>
            </div>
            <div class="border-t border-b py-3 mb-3">
                <div class="flex justify-between mb-1">
                    <span class="text-gray-600 text-sm receipt-label">Order #:</span>
                    <span id="receipt-order-number" class="font-semibold text-sm receipt-value"></span>
                </div>
                <div class="flex justify-between mb-1">
                    <span class="text-gray-600 text-sm receipt-label">Token #:</span>
                    <span id="receipt-token-number" class="font-semibold text-sm receipt-value"></span>
                </div>
                <div class="flex justify-between mb-1">
                    <span class="text-gray-600 text-sm receipt-label">Date:</span>
                    <span id="receipt-date" class="font-semibold text-sm receipt-value"></span>
                </div>
                <div class="flex justify-between">
                    <span class="text-gray-600 text-sm receipt-label">Payment:</span>
                    <span id="receipt-payment" class="font-semibold text-sm receipt-value"></span>
                </div>
            </div>
            <div class="mb-3">
                <h3 class="font-semibold mb-2 text-sm receipt-label">Customer Details</h3>
                <p id="receipt-customer" class="text-xs text-gray-600 receipt-info"></p>
            </div>
            <div class="mb-3">
                <h3 class="font-semibold mb-2 text-sm receipt-label">Order Items</h3>
                <div id="receipt-items" class="space-y-1 text-xs receipt-items">
                    <!-- Receipt items will be inserted here -->
                </div>
            </div>
            <div class="border-t pt-3">
                <div class="flex justify-between mb-1">
                    <span class="text-sm receipt-label">Subtotal:</span>
                    <span id="receipt-subtotal" class="text-sm receipt-value"></span>
                </div>
                <div class="flex justify-between mb-1">
                    <span class="text-sm receipt-label">Tax (5%):</span>
                    <span id="receipt-tax" class="text-sm receipt-value"></span>
                </div>
                <div class="flex justify-between font-bold">
                    <span class="text-sm receipt-label">Total:</span>
                    <span id="receipt-total" class="text-sm receipt-value"></span>
                </div>
            </div>
            <div class="qrcode-container">
                <div id="qrcode"></div>
            </div>
            <div class="mt-4 text-center text-xs text-gray-500 receipt-thanks">
                <p>Thank you for your order!</p>
                <p>Please visit again</p>
            </div>
            <div class="flex gap-2 mt-4 no-print receipt-buttons">
                <button onclick="printReceipt()" class="flex-1 bg-green-500 text-white py-2 rounded-lg hover:bg-green-600 text-sm receipt-button">
                    <i class="fas fa-print mr-2"></i>Print
                </button>
                <button onclick="downloadReceipt()" class="flex-1 bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 text-sm receipt-button">
                    <i class="fas fa-download mr-2"></i>Download
                </button>
                <button onclick="closeReceipt()" class="flex-1 bg-gray-500 text-white py-2 rounded-lg hover:bg-gray-600 text-sm receipt-button">
                    Close
                </button>
            </div>
        </div>
    </div>

    <!-- Feedback Modal -->
    <div id="feedback-modal" class="modal">
        <div class="modal-content">
            <h2 class="text-2xl font-bold mb-4 text-center bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent feedback-title">Share Your Feedback</h2>
            <form id="feedback-form" class="space-y-3 feedback-form">
                <div>
                    <label class="block text-sm font-medium mb-1 feedback-label">Your Name</label>
                    <input type="text" id="feedback-name" required class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500 form-input feedback-input">
                </div>
                <div>
                    <label class="block text-sm font-medium mb-1 feedback-label">Email Address</label>
                    <input type="email" id="feedback-email" required class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500 form-input feedback-input">
                </div>
                <div>
                    <label class="block text-sm font-medium mb-1 feedback-label">Rating</label>
                    <div class="rating-stars feedback-stars">
                        <i class="fas fa-star rating-star" data-rating="1"></i>
                        <i class="fas fa-star rating-star" data-rating="2"></i>
                        <i class="fas fa-star rating-star" data-rating="3"></i>
                        <i class="fas fa-star rating-star" data-rating="4"></i>
                        <i class="fas fa-star rating-star" data-rating="5"></i>
                    </div>
                </div>
                <div>
                    <label class="block text-sm font-medium mb-1 feedback-label">Your Feedback</label>
                    <textarea id="feedback-message" rows="4" required class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500 form-input feedback-textarea"></textarea>
                </div>
                <div class="flex gap-2 pt-2 feedback-buttons">
                    <button type="button" onclick="closeFeedback()" class="flex-1 px-4 py-2 border rounded-lg hover:bg-gray-100 transition feedback-button">
                        Cancel
                    </button>
                    <button type="submit" class="flex-1 btn-primary text-white py-2 rounded-lg font-semibold feedback-button">
                        Submit Feedback
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Feedback Thanks Modal -->
    <div id="feedback-thanks-modal" class="modal">
        <div class="modal-content text-center">
            <div class="success-animation mb-4">
                <div class="w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-3 success-icon">
                    <i class="fas fa-heart text-white text-3xl"></i>
                </div>
            </div>
            <h2 class="text-2xl font-bold mb-3 text-green-600 success-title">Thank You!</h2>
            <p class="text-gray-600 mb-4 success-message">Your feedback helps us improve our service</p>
            <button onclick="closeFeedbackThanks()" class="w-full bg-green-500 text-white py-2 rounded-lg hover:bg-green-600 transition success-button">
                Close
            </button>
        </div>
    </div>

    <!-- Admin Login Modal -->
    <div id="admin-login-modal" class="modal">
        <div class="modal-content">
            <h2 class="text-2xl font-bold mb-4 text-center bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent modal-title">Admin Login</h2>
            <form id="admin-login-form" class="space-y-3 modal-form">
                <div>
                    <label class="block text-sm font-medium mb-1 modal-label">Username</label>
                    <input type="text" id="admin-username" required class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500 form-input modal-input">
                </div>
                <div>
                    <label class="block text-sm font-medium mb-1 modal-label">Password</label>
                    <input type="password" id="admin-password" required class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500 form-input modal-input">
                </div>
                <div class="flex gap-2 pt-2">
                    <button type="button" onclick="closeAdminLogin()" class="flex-1 px-4 py-2 border rounded-lg hover:bg-gray-100 transition modal-button">
                        Cancel
                    </button>
                    <button type="submit" class="flex-1 btn-primary text-white py-2 rounded-lg font-semibold modal-button">
                        Login
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Admin Panel -->
    <div id="admin-panel" class="modal">
        <div class="modal-content max-w-6xl max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent admin-title">Admin Panel</h2>
                <button onclick="closeAdminPanel()" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <!-- Admin Tabs -->
            <div class="admin-tabs">
                <div class="admin-tab active" onclick="switchAdminTab('dashboard')">Dashboard</div>
                <div class="admin-tab" onclick="switchAdminTab('menu')">Menu Management</div>
                <div class="admin-tab" onclick="switchAdminTab('orders')">Orders</div>
                <div class="admin-tab" onclick="switchAdminTab('tokens')">Tokens</div>
                <div class="admin-tab" onclick="switchAdminTab('feedback')">Feedback</div>
                <div class="admin-tab" onclick="switchAdminTab('settings')">Settings</div>
            </div>
            
            <!-- Dashboard Tab -->
            <div id="admin-dashboard" class="admin-tab-content active">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
                    <div class="bg-gradient-to-r from-blue-500 to-blue-600 text-white p-4 rounded-lg">
                        <div class="flex justify-between items-center">
                            <div>
                                <p class="text-sm opacity-90">Total Orders</p>
                                <p class="text-2xl font-bold" id="total-orders">0</p>
                            </div>
                            <i class="fas fa-shopping-cart text-3xl opacity-80"></i>
                        </div>
                    </div>
                    <div class="bg-gradient-to-r from-green-500 to-green-600 text-white p-4 rounded-lg">
                        <div class="flex justify-between items-center">
                            <div>
                                <p class="text-sm opacity-90">Total Revenue</p>
                                <p class="text-2xl font-bold" id="total-revenue">â‚¹0</p>
                            </div>
                            <i class="fas fa-money-bill-wave text-3xl opacity-80"></i>
                        </div>
                    </div>
                    <div class="bg-gradient-to-r from-purple-500 to-purple-600 text-white p-4 rounded-lg">
                        <div class="flex justify-between items-center">
                            <div>
                                <p class="text-sm opacity-90">Current Token</p>
                                <p class="text-2xl font-bold" id="current-token">T001</p>
                            </div>
                            <i class="fas fa-ticket-alt text-3xl opacity-80"></i>
                        </div>
                    </div>
                    <div class="bg-gradient-to-r from-orange-500 to-orange-600 text-white p-4 rounded-lg">
                        <div class="flex justify-between items-center">
                            <div>
                                <p class="text-sm opacity-90">Total Feedback</p>
                                <p class="text-2xl font-bold" id="total-feedback">0</p>
                            </div>
                            <i class="fas fa-comment-dots text-3xl opacity-80"></i>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white rounded-lg p-4 shadow">
                    <h3 class="text-lg font-semibold mb-3">Recent Orders</h3>
                    <div id="recent-orders" class="overflow-x-auto">
                        <table class="w-full text-sm admin-table">
                            <thead>
                                <tr class="border-b">
                                    <th class="text-left py-2 admin-th">Order #</th>
                                    <th class="text-left py-2 admin-th">Token</th>
                                    <th class="text-left py-2 admin-th">Customer</th>
                                    <th class="text-left py-2 admin-th">Amount</th>
                                    <th class="text-left py-2 admin-th">Status</th>
                                </tr>
                            </thead>
                            <tbody id="recent-orders-tbody">
                                <!-- Recent orders will be inserted here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <!-- Menu Management Tab -->
            <div id="admin-menu" class="admin-tab-content">
                <!-- Add New Item Form -->
                <div class="bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-4 mb-4 border border-purple-200">
                    <h3 class="text-xl font-semibold mb-3 flex items-center">
                        <i class="fas fa-plus-circle mr-2 text-purple-600"></i>
                        Add New Item
                    </h3>
                    <form id="add-item-form" class="grid grid-cols-1 md:grid-cols-2 gap-3 admin-form">
                        <div>
                            <label class="block text-sm font-medium mb-1 admin-label">Item Name</label>
                            <input type="text" id="new-item-name" required class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500 form-input admin-input">
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-1 admin-label">Category</label>
                            <select id="new-item-category" required class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500 form-input admin-input">
                                <option value="burger">Burger</option>
                                <option value="pizza">Pizza</option>
                                <option value="sandwich">Sandwich</option>
                                <option value="pasta">Pasta</option>
                                <option value="rolls">Rolls</option>
                                <option value="chinese">Chinese</option>
                                <option value="drink">Drink</option>
                                <option value="dessert">Dessert</option>
                                <option value="combo">Combo</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-1 admin-label">Price (â‚¹)</label>
                            <input type="number" id="new-item-price" step="0.01" required class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500 form-input admin-input">
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-1 admin-label">Type</label>
                            <select id="new-item-type" required class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500 form-input admin-input">
                                <option value="veg">Vegetarian</option>
                                <option value="non-veg">Non-Vegetarian</option>
                                <option value="vegan">Vegan</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-1 admin-label">Image URL</label>
                            <input type="text" id="new-item-image" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500 form-input admin-input">
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-1 admin-label">Customization Options</label>
                            <input type="text" id="new-item-customization" placeholder="e.g., Size: Small, Medium, Large" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500 form-input admin-input">
                        </div>
                        <div class="md:col-span-2">
                            <label class="block text-sm font-medium mb-1 admin-label">Description</label>
                            <textarea id="new-item-description" rows="2" required class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500 form-input admin-input"></textarea>
                        </div>
                        <div class="md:col-span-2">
                            <button type="submit" class="btn-primary text-white px-4 py-2 rounded-lg font-semibold admin-button">
                                <i class="fas fa-plus mr-2"></i>Add Item
                            </button>
                        </div>
                    </form>
                </div>
                
                <!-- Existing Items List -->
                <div>
                    <h3 class="text-xl font-semibold mb-3 flex items-center">
                        <i class="fas fa-edit mr-2 text-purple-600"></i>
                        Manage Items
                    </h3>
                    <div id="admin-items-list" class="grid grid-cols-1 md:grid-cols-2 gap-3">
                        <!-- Admin items will be dynamically inserted here -->
                    </div>
                </div>
            </div>
            
            <!-- Orders Tab -->
            <div id="admin-orders" class="admin-tab-content">
                <div class="bg-white rounded-lg p-4 shadow">
                    <div class="flex justify-between items-center mb-3">
                        <h3 class="text-lg font-semibold">Order History</h3>
                        <div class="flex gap-2">
                            <input type="date" id="order-date-filter" class="px-3 py-1 border rounded-lg text-sm">
                            <select id="order-status-filter" class="px-3 py-1 border rounded-lg text-sm">
                                <option value="all">All Status</option>
                                <option value="pending">Pending</option>
                                <option value="preparing">Preparing</option>
                                <option value="ready">Ready</option>
                                <option value="completed">Completed</option>
                            </select>
                        </div>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="w-full text-sm admin-table">
                            <thead>
                                <tr class="border-b">
                                    <th class="text-left py-2 admin-th">Order #</th>
                                    <th class="text-left py-2 admin-th">Token</th>
                                    <th class="text-left py-2 admin-th">Date</th>
                                    <th class="text-left py-2 admin-th">Customer</th>
                                    <th class="text-left py-2 admin-th">Items</th>
                                    <th class="text-left py-2 admin-th">Amount</th>
                                    <th class="text-left py-2 admin-th">Status</th>
                                    <th class="text-left py-2 admin-th">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="orders-tbody">
                                <!-- Orders will be inserted here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <!-- Tokens Tab -->
            <div id="admin-tokens" class="admin-tab-content">
                <div class="bg-white rounded-lg p-4 shadow">
                    <div class="flex justify-between items-center mb-3">
                        <h3 class="text-lg font-semibold">Token Management</h3>
                        <div>
                            <label class="text-sm font-medium mr-2">Next Token:</label>
                            <span id="next-token-display" class="text-lg font-bold text-purple-600">T001</span>
                        </div>
                    </div>
                    <div class="mb-4">
                        <button onclick="resetTokenCounter()" class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition">
                            <i class="fas fa-redo mr-2"></i>Reset Token Counter
                        </button>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="w-full text-sm admin-table">
                            <thead>
                                <tr class="border-b">
                                    <th class="text-left py-2 admin-th">Token #</th>
                                    <th class="text-left py-2 admin-th">Order #</th>
                                    <th class="text-left py-2 admin-th">Date</th>
                                    <th class="text-left py-2 admin-th">Customer</th>
                                    <th class="text-left py-2 admin-th">Status</th>
                                </tr>
                            </thead>
                            <tbody id="tokens-tbody">
                                <!-- Tokens will be inserted here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <!-- Feedback Tab -->
            <div id="admin-feedback" class="admin-tab-content">
                <div class="bg-white rounded-lg p-4 shadow">
                    <h3 class="text-lg font-semibold mb-3">Customer Feedback</h3>
                    <div class="overflow-x-auto">
                        <table class="w-full text-sm admin-table">
                            <thead>
                                <tr class="border-b">
                                    <th class="text-left py-2 admin-th">Date</th>
                                    <th class="text-left py-2 admin-th">Name</th>
                                    <th class="text-left py-2 admin-th">Email</th>
                                    <th class="text-left py-2 admin-th">Rating</th>
                                    <th class="text-left py-2 admin-th">Message</th>
                                    <th class="text-left py-2 admin-th">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="feedback-tbody">
                                <!-- Feedback will be inserted here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <!-- Settings Tab -->
            <div id="admin-settings" class="admin-tab-content">
                <div class="bg-white rounded-lg p-4 shadow">
                    <h3 class="text-lg font-semibold mb-3">System Settings</h3>
                    <form id="settings-form" class="space-y-3 admin-form">
                        <div>
                            <label class="block text-sm font-medium mb-1 admin-label">Restaurant Name</label>
                            <input type="text" id="restaurant-name" value="QuickBite" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500 form-input admin-input">
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-1 admin-label">Restaurant Address</label>
                            <input type="text" id="restaurant-address" value="123 Food Street, City" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500 form-input admin-input">
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-1 admin-label">Tax Rate (%)</label>
                            <input type="number" id="tax-rate" value="5" step="0.1" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500 form-input admin-input">
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-1 admin-label">Default Token Prefix</label>
                            <input type="text" id="token-prefix" value="T" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500 form-input admin-input">
                        </div>
                        <div>
                            <label class="flex items-center">
                                <input type="checkbox" id="sound-enabled" checked class="mr-2">
                                <span class="text-sm font-medium">Enable Sound Effects</span>
                            </label>
                        </div>
                        <div>
                            <label class="flex items-center">
                                <input type="checkbox" id="dark-mode-default" class="mr-2">
                                <span class="text-sm font-medium">Dark Mode by Default</span>
                            </label>
                        </div>
                        <div>
                            <button type="submit" class="btn-primary text-white px-4 py-2 rounded-lg font-semibold admin-button">
                                <i class="fas fa-save mr-2"></i>Save Settings
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Item Modal -->
    <div id="edit-item-modal" class="modal">
        <div class="modal-content">
            <h2 class="text-2xl font-bold mb-4 text-center bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent modal-title">Edit Item</h2>
            <form id="edit-item-form" class="space-y-3 modal-form">
                <input type="hidden" id="edit-item-id">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                    <div>
                        <label class="block text-sm font-medium mb-1 modal-label">Item Name</label>
                        <input type="text" id="edit-item-name" required class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500 form-input modal-input">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-1 modal-label">Category</label>
                        <select id="edit-item-category" required class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500 form-input modal-input">
                            <option value="burger">Burger</option>
                            <option value="pizza">Pizza</option>
                            <option value="sandwich">Sandwich</option>
                            <option value="pasta">Pasta</option>
                            <option value="rolls">Rolls</option>
                            <option value="chinese">Chinese</option>
                            <option value="drink">Drink</option>
                            <option value="dessert">Dessert</option>
                            <option value="combo">Combo</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-1 modal-label">Price (â‚¹)</label>
                        <input type="number" id="edit-item-price" step="0.01" required class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500 form-input modal-input">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-1 modal-label">Type</label>
                        <select id="edit-item-type" required class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500 form-input modal-input">
                            <option value="veg">Vegetarian</option>
                            <option value="non-veg">Non-Vegetarian</option>
                            <option value="vegan">Vegan</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-1 modal-label">Image URL</label>
                        <input type="text" id="edit-item-image" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500 form-input modal-input">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-1 modal-label">Customization Options</label>
                        <input type="text" id="edit-item-customization" placeholder="e.g., Size: Small, Medium, Large" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500 form-input modal-input">
                    </div>
                    <div class="md:col-span-2">
                        <label class="block text-sm font-medium mb-1 modal-label">Description</label>
                        <textarea id="edit-item-description" rows="2" required class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500 form-input modal-input"></textarea>
                    </div>
                    <div class="md:col-span-2">
                        <label class="block text-sm font-medium mb-1 modal-label">Image Preview</label>
                        <img id="edit-item-preview" src="" alt="Preview" class="w-20 h-20 object-cover rounded-lg">
                    </div>
                </div>
                <div class="flex gap-2 pt-2">
                    <button type="button" onclick="closeEditModal()" class="flex-1 px-4 py-2 border rounded-lg hover:bg-gray-100 transition modal-button">
                        Cancel
                    </button>
                    <button type="submit" class="flex-1 btn-primary text-white py-2 rounded-lg font-semibold modal-button">
                        Save Changes
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast">
        <i class="fas fa-check-circle text-xl mb-2 toast-icon"></i>
        <p id="toast-message" class="font-medium text-sm toast-message">Item added successfully!</p>
    </div>

    <!-- Item Added Toast -->
    <div id="item-added-toast" class="item-added-toast">
        <i class="fas fa-check-circle text-2xl mb-2"></i>
        <p>Item Added Successfully!</p>
    </div>

    <script>
        // Replace the foodMenu array with real food images from Unsplash
let foodMenu = [
    // Burgers
    { id: 1, name: "Classic Burger", category: "burger", type: "non-veg", price: 120, image: "https://plus.unsplash.com/premium_photo-1683619761492-639240d29bb5?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=687?w=300&h=200&fit=crop", description: "Juicy beef patty with lettuce", customization: "Size: Regular, Large | Extra: Cheese, Bacon", rating: 4.5, available: true, popular: true },
    { id: 2, name: "Cheese Burger", category: "burger", type: "non-veg", price: 150, image: "https://images.unsplash.com/photo-1568901346375-23c9450c58cd?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=999?w=300&h=200&fit=crop", description: "Double cheese with beef patty", customization: "Size: Regular, Large | Extra: Cheese, Bacon", rating: 4.7, available: true, popular: true },
    { id: 3, name: "BBQ Bacon Burger", category: "burger", type: "non-veg", price: 180, image: "https://plus.unsplash.com/premium_photo-1664392112262-271039647be9?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=1050?w=300&h=200&fit=crop", description: "BBQ sauce, bacon, onion rings", customization: "Size: Regular, Large | Extra: Cheese, Bacon", rating: 4.8, available: true, popular: false },
    { id: 4, name: "Veggie Burger", category: "burger", type: "veg", price: 110, image: "https://images.unsplash.com/photo-1571091718767-18b5b1457add?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=1172?w=300&h=200&fit=crop", description: "Plant-based patty with fresh veg", customization: "Size: Regular, Large | Extra: Cheese, Avocado", rating: 4.2, available: true, popular: false },
    
    // Pizza
    { id: 5, name: "Margherita Pizza", category: "pizza", type: "veg", price: 250, image: "https://images.unsplash.com/photo-1574071318508-1cdbab80d002?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=1169?w=300&h=200&fit=crop", description: "Fresh mozzarella, tomato, basil", customization: "Size: Small, Medium, Large | Crust: Thin, Thick, Stuffed", rating: 4.6, available: true, popular: true },
    { id: 6, name: "Pepperoni Pizza", category: "pizza", type: "non-veg", price: 280, image: "https://images.unsplash.com/photo-1628840042765-356cda07504e?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=880?w=300&h=200&fit=crop", description: "Classic pepperoni with cheese", customization: "Size: Small, Medium, Large | Crust: Thin, Thick, Stuffed", rating: 4.9, available: true, popular: true },
    { id: 7, name: "Veggie Supreme", category: "pizza", type: "veg", price: 260, image: "https://images.unsplash.com/photo-1635832801146-102d3bb7f88e?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=948?w=300&h=200&fit=crop", description: "Bell peppers, mushrooms, olives", customization: "Size: Small, Medium, Large | Crust: Thin, Thick, Stuffed", rating: 4.4, available: true, popular: false },
    { id: 8, name: "BBQ Chicken Pizza", category: "pizza", type: "non-veg", price: 320, image: "https://images.unsplash.com/photo-1632221622104-06557f3eee3c?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=1170?w=300&h=200&fit=crop", description: "Grilled chicken with BBQ sauce", customization: "Size: Small, Medium, Large | Crust: Thin, Thick, Stuffed", rating: 4.7, available: true, popular: false },
    
    // Sandwich
    { id: 9, name: "Club Sandwich", category: "sandwich", type: "non-veg", price: 160, image: "https://images.unsplash.com/photo-1567234669013-216f3a40e02e?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTJ8fENsdWIlMjBTYW5kd2ljaHxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&q=60&w=600?w=300&h=200&fit=crop", description: "Triple layer with chicken, bacon", customization: "Bread: White, Wheat, Multigrain | Extra: Cheese, Avocado", rating: 4.5, available: true, popular: true },
    { id: 10, name: "Veg Sandwich", category: "sandwich", type: "veg", price: 90, image: "https://images.unsplash.com/photo-1553909489-cd47e0907980?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTR8fFZlZyUyMFNhbmR3aWNofGVufDB8fDB8fHww&auto=format&fit=crop&q=60&w=600?w=300&h=200&fit=crop", description: "Fresh vegetables with cheese", customization: "Bread: White, Wheat, Multigrain | Extra: Cheese, Hummus", rating: 4.1, available: true, popular: false },
    { id: 11, name: "Grilled Cheese", category: "sandwich", type: "veg", price: 80, image: "https://images.unsplash.com/photo-1475090169767-40ed8d18f67d?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8Z3JpbGxlZCUyMGNoZWVzZSUyMHNhbmR3aWNofGVufDB8fDB8fHww&auto=format&fit=crop&q=60&w=600?w=300&h=200&fit=crop", description: "Classic grilled cheese sandwich", customization: "Bread: White, Wheat, Multigrain | Cheese: Cheddar, Mozzarella, Swiss", rating: 4.3, available: true, popular: false },
    { id: 12, name: "Chicken Sandwich", category: "sandwich", type: "non-veg", price: 140, image: "https://images.unsplash.com/photo-1673534409216-91c3175b9b2d?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MjB8fGNoaWNrZW4lMjBzYW5kd2ljaHxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&q=60&w=600?w=300&h=200&fit=crop", description: "Grilled chicken with mayo", customization: "Bread: White, Wheat, Multigrain | Extra: Cheese, Bacon", rating: 4.4, available: true, popular: false },
    
    // Pasta
    { id: 13, name: "Alfredo Pasta", category: "pasta", type: "veg", price: 220, image: "https://images.unsplash.com/photo-1662478838323-2b4d9dba8ce8?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTN8fEFsZnJlZG8lMjBQYXN0YXxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&q=60&w=600?w=300&h=200&fit=crop", description: "Creamy alfredo sauce with pasta", customization: "Pasta: Penne, Spaghetti, Fettuccine | Extra: Chicken, Mushrooms", rating: 4.6, available: true, popular: true },
    { id: 14, name: "Pasta Arrabbiata", category: "pasta", type: "veg", price: 200, image: "https://images.unsplash.com/photo-1676300184847-4ee4030409c0?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8dG9tYXRvJTIwcGFzdGF8ZW58MHx8MHx8fDA%3D&fm=jpg&q=60&w=3000?w=300&h=200&fit=crop", description: "Spicy tomato sauce pasta", customization: "Pasta: Penne, Spaghetti, Fettuccine | Extra: Olives, Capsicum", rating: 4.3, available: true, popular: false },
    { id: 15, name: "Pesto Pasta", category: "pasta", type: "veg", price: 240, image: "https://plus.unsplash.com/premium_photo-1705338026209-e6f86c9eeaae?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8UGVzdG8lMjBQYXN0YXxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&q=60&w=600?w=300&h=200&fit=crop", description: "Fresh basil pesto pasta", customization: "Pasta: Penne, Spaghetti, Fettuccine | Extra: Cherry Tomatoes, Pine Nuts", rating: 4.5, available: true, popular: false },
    { id: 16, name: "Carbonara", category: "pasta", type: "non-veg", price: 260, image: "https://images.unsplash.com/photo-1719250726371-b4076d48ce6c?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8Q2FyYm9uYXJhJTIwUGFzdGF8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&q=60&w=600?w=300&h=200&fit=crop", description: "Classic Italian carbonara", customization: "Pasta: Penne, Spaghetti, Fettuccine | Extra: Bacon, Mushrooms", rating: 4.7, available: true, popular: false },
    
    // Rolls
    { id: 17, name: "Spring Rolls", category: "rolls", type: "veg", price: 120, image: "https://images.unsplash.com/photo-1695712641388-87c0f9c2d36e?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTh8fFNwcmluZyUyMFJvbGxzfGVufDB8fDB8fHww&auto=format&fit=crop&q=60&w=600?w=300&h=200&fit=crop", description: "Crispy vegetable spring rolls", customization: "Quantity: 4, 6, 8 | Sauce: Sweet Chili, Soy, Szechuan", rating: 4.4, available: true, popular: true },
    { id: 18, name: "Chicken Rolls", category: "rolls", type: "non-veg", price: 150, image: "https://images.unsplash.com/photo-1626776065363-7dd3426f92f9?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NjV8fGNoaWNrZW4lMjByb2xsc3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&q=60&w=600?w=300&h=200&fit=crop", description: "Spicy chicken wrapped rolls", customization: "Quantity: 4, 6, 8 | Sauce: Sweet Chili, Soy, Szechuan", rating: 4.6, available: true, popular: false },
    { id: 19, name: "Paneer Rolls", category: "rolls", type: "veg", price: 140, image: "https://images.unsplash.com/photo-1611292984550-6dd8def2e668?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NzF8fHZlZyUyMHJvbGxzfGVufDB8fDB8fHww&auto=format&fit=crop&q=60&w=600?w=300&h=200&fit=crop", description: "Paneer tikka rolls", customization: "Quantity: 4, 6, 8 | Sauce: Sweet Chili, Soy, Szechuan", rating: 4.5, available: true, popular: false },
    { id: 20, name: "Veg Rolls", category: "rolls", type: "veg", price: 100, image: "https://images.unsplash.com/photo-1673238114180-4f9ca7d69b0f?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTk0fHx2ZWclMjByb2xsc3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&q=60&w=600?w=300&h=200&fit=crop", description: "Mixed vegetable rolls", customization: "Quantity: 4, 6, 8 | Sauce: Sweet Chili, Soy, Szechuan", rating: 4.2, available: true, popular: false },
    
    // Chinese
    { id: 21, name: "Fried Rice", category: "chinese", type: "veg", price: 180, image: "https://images.unsplash.com/photo-1664717698774-84f62382613b?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NTV8fEZyaWVkJTIwUmljZXxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&q=60&w=600?w=300&h=200&fit=crop", description: "Vegetable fried rice", customization: "Spice Level: Mild, Medium, Hot | Extra: Egg, Chicken, Tofu", rating: 4.3, available: true, popular: true },
    { id: 22, name: "Noodles", category: "chinese", type: "veg", price: 160, image: "https://plus.unsplash.com/premium_photo-1674511582428-58ce834ce172?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MjV8fG5vb2RsZXN8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&q=60&w=600?w=300&h=200&fit=crop", description: "Hakka noodles with veg", customization: "Spice Level: Mild, Medium, Hot | Extra: Egg, Chicken, Tofu", rating: 4.4, available: true, popular: false },
    { id: 23, name: "Manchurian", category: "chinese", type: "veg", price: 200, image: "https://images.unsplash.com/photo-1751199393315-fbcae4eabd4c?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTJ8fHNwaWN5JTIwY2hpY2tlbiUyMGJhbGxzfGVufDB8fDB8fHww&auto=format&fit=crop&q=60&w=600?w=300&h=200&fit=crop", description: "Spicy manchurian balls", customization: "Spice Level: Mild, Medium, Hot | Extra: Gravy, Dry", rating: 4.5, available: true, popular: false },
    { id: 24, name: "Chilli Paneer", category: "chinese", type: "veg", price: 220, image: "https://images.unsplash.com/photo-1690401767645-595de0e0e5f8?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8Q2hpbGxpJTIwUGFuZWVyfGVufDB8fDB8fHww&auto=format&fit=crop&q=60&w=600?w=300&h=200&fit=crop", description: "Chilli paneer gravy", customization: "Spice Level: Mild, Medium, Hot | Extra: Gravy, Dry", rating: 4.6, available: true, popular: false },
    
    // Drinks
    { id: 25, name: "Coca Cola", category: "drink", type: "veg", price: 40, image: "https://images.unsplash.com/photo-1499961161516-49afc271aeed?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NDR8fGNvY28lMjBjb2xhJTIwaW4lMjBnbGFzc3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&q=60&w=600?w=300&h=200&fit=crop", description: "Refreshing classic cola", customization: "Size: Small, Medium, Large | Ice: Yes, No", rating: 4.0, available: true, popular: true },
    { id: 26, name: "Orange Juice", category: "drink", type: "veg", price: 60, image: "https://images.unsplash.com/photo-1613478223719-2ab802602423?w=300&h=200&fit=crop", description: "Fresh squeezed orange juice", customization: "Size: Small, Medium, Large | Ice: Yes, No", rating: 4.5, available: true, popular: false },
    { id: 27, name: "Lemonade", category: "drink", type: "veg", price: 50, image: "https://plus.unsplash.com/premium_photo-1661510500212-e3d96478a574?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTA0fHxsZW1vbmFkZXxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&q=60&w=600?w=300&h=200&fit=crop", description: "Homemade lemonade with mint", customization: "Size: Small, Medium, Large | Sweetness: Low, Medium, High", rating: 4.3, available: true, popular: false },
    { id: 28, name: "Iced Coffee", category: "drink", type: "veg", price: 80, image: "https://images.unsplash.com/photo-1484542959923-de288ec85ce1?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NDB8fEljZWQlMjBDb2ZmZWV8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&q=60&w=600?w=300&h=200&fit=crop", description: "Cold brew coffee with ice", customization: "Size: Small, Medium, Large | Milk: Regular, Skim, Almond", rating: 4.4, available: true, popular: false },
    
    // Desserts
    { id: 29, name: "Chocolate Cake", category: "dessert", type: "veg", price: 120, image: "https://images.unsplash.com/photo-1578985545062-69928b1d9587?w=300&h=200&fit=crop", description: "Rich chocolate cake with ganache", customization: "Size: Slice, Whole | Extra: Ice Cream, Whipped Cream", rating: 4.8, available: true, popular: true },
    { id: 30, name: "Ice Cream Sundae", category: "dessert", type: "veg", price: 90, image: "https://images.unsplash.com/photo-1657225953401-5f95007fc8e0?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8SWNlJTIwQ3JlYW0lMjBTdW5kYWV8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&q=60&w=600?w=300&h=200&fit=crop", description: "Vanilla ice cream with toppings", customization: "Flavor: Vanilla, Chocolate, Strawberry | Toppings: Sprinkles, Nuts, Fruits", rating: 4.6, available: true, popular: false },
    { id: 31, name: "Apple Pie", category: "dessert", type: "veg", price: 100, image: "https://images.unsplash.com/photo-1621743478914-cc8a86d7e7b5?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8QXBwbGUlMjBQaWV8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&q=60&w=600?w=300&h=200&fit=crop", description: "Warm apple pie with cinnamon", customization: "Size: Slice, Whole | Extra: Ice Cream, Caramel", rating: 4.5, available: true, popular: false },
    { id: 32, name: "Brownie", category: "dessert", type: "veg", price: 80, image: "https://images.unsplash.com/photo-1606313564200-e75d5e30476c?w=300&h=200&fit=crop", description: "Chocolate brownie with nuts", customization: "Size: Small, Large | Extra: Ice Cream, Chocolate Sauce", rating: 4.7, available: true, popular: false },
    
    // Combos
    { id: 33, name: "Burger Combo", category: "combo", type: "non-veg", price: 200, image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTAi3vQfKXOYjPm3ztr_k-5Pmji-765LeoLGA&s?w=300&h=200&fit=crop", description: "Burger + Fries + Drink", customization: "Burger: Classic, Cheese, Veggie | Drink: Coke, Pepsi, Orange", rating: 4.5, available: true, popular: true, isNew: false },
    { id: 34, name: "Family Pizza Deal", category: "combo", type: "veg", price: 600, image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQB_SFoeusD8Jvl8svM9jdRdlpb4eCeH2suyg&s?w=300&h=200&fit=crop", description: "2 Large Pizzas + 4 Drinks", customization: "Pizza: Margherita, Veggie, Pepperoni | Drink: Coke, Pepsi, Orange", rating: 4.7, available: true, popular: false, isNew: false },
    { id: 35, name: "Kids Meal", category: "combo", type: "non-veg", price: 150, image: "https://images.unsplash.com/photo-1594212699903-ec8a3eca50f5?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8YnVyZ2VyJTIwYW5kJTIwZnJpZXN8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&q=60&w=600?w=300&h=200&fit=crop", description: "Mini Burger + Fries + Toy", customization: "Burger: Classic, Cheese, Veggie | Drink: Coke, Pepsi, Orange", rating: 4.3, available: true, popular: false, isNew: false },
    { id: 36, name: "Party Pack", category: "combo", type: "mixed", price: 1200, image: "https://plus.unsplash.com/premium_photo-1677654310449-0b37cb7c83a5?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NXx8YnVyZ2VyJTIwcGl6emF8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&q=60&w=600?w=300&h=200&fit=crop", description: "4 Burgers + 2 Pizzas + 6 Drinks", customization: "Burgers: Classic, Cheese, Veggie | Pizza: Margherita, Veggie, Pepperoni", rating: 4.8, available: true, popular: false, isNew: true }
];

        // Cart State
        let cart = [];
        let currentFilter = 'all';
        let nextItemId = 37;
        let isAdminLoggedIn = false;
        let currentOrderData = null;
        let selectedPaymentMethod = '';
        let currentTokenNumber = 1;
        let tokenPrefix = 'T';
        let soundEnabled = true;
        let darkModeEnabled = false;
        let currentCustomizationItem = null;
        let customizationOptions = {};
        let orderHistory = [];
        let feedbackList = [];
        let tokenHistory = [];
        let restaurantSettings = {
            name: 'QuickBite',
            address: '123 Food Street, City',
            taxRate: 5,
            tokenPrefix: 'T'
        };
        
        // Filter state
        let activeFilters = {
            price: 'all',
            type: 'all',
            rating: 'all',
            availability: 'all'
        };

        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize cart count to 0
            document.getElementById('cart-count').textContent = '0';
            
            renderFoodItems(foodMenu);
            setupEventListeners();
            loadCartFromStorage();
            loadMenuFromStorage();
            loadSettingsFromStorage();
            loadOrderHistoryFromStorage();
            loadFeedbackFromStorage();
            loadTokenHistoryFromStorage();
            updateTokenDisplay();
            initDarkMode();
            initSoundToggle();
        });

        // Setup event listeners
        function setupEventListeners() {
            document.getElementById('search-input').addEventListener('input', debounce(handleSearch, 300));
            document.getElementById('checkout-form').addEventListener('submit', handleCheckout);
            document.getElementById('admin-login-form').addEventListener('submit', handleAdminLogin);
            document.getElementById('add-item-form').addEventListener('submit', handleAddItem);
            document.getElementById('edit-item-form').addEventListener('submit', handleEditItem);
            document.getElementById('feedback-form').addEventListener('submit', handleFeedback);
            document.getElementById('settings-form').addEventListener('submit', handleSettings);
            
            // Dark mode toggle
            document.getElementById('dark-mode-toggle').addEventListener('click', toggleDarkMode);
            
            // Sound toggle
            document.getElementById('sound-toggle').addEventListener('click', toggleSound);
            
            // Rating stars
            document.querySelectorAll('.rating-star').forEach(star => {
                star.addEventListener('click', function() {
                    const rating = parseInt(this.getAttribute('data-rating'));
                    setRating(rating);
                });
            });
            
            // Card number formatting
            document.getElementById('card-number').addEventListener('input', function(e) {
                let value = e.target.value.replace(/\s/g, '');
                let formattedValue = value.match(/.{1,4}/g)?.join(' ') || value;
                e.target.value = formattedValue;
            });
            
            // Card expiry formatting
            document.getElementById('card-expiry').addEventListener('input', function(e) {
                let value = e.target.value.replace(/\D/g, '');
                if (value.length >= 2) {
                    value = value.slice(0, 2) + '/' + value.slice(2, 4);
                }
                e.target.value = value;
            });
            
            // CVV only numbers
            document.getElementById('card-cvv').addEventListener('input', function(e) {
                e.target.value = e.target.value.replace(/\D/g, '');
            });
            
            // Image preview for edit form
            document.getElementById('edit-item-image').addEventListener('input', function(e) {
                document.getElementById('edit-item-preview').src = e.target.value;
            });
            
            // Close dropdowns when clicking outside
            document.addEventListener('click', function(e) {
                if (!e.target.closest('.filter-dropdown')) {
                    document.querySelectorAll('.filter-dropdown-content').forEach(dropdown => {
                        dropdown.classList.remove('show');
                    });
                }
            });
        }

        // Initialize dark mode
        function initDarkMode() {
            if (localStorage.getItem('darkMode') === 'true') {
                document.body.classList.add('dark-mode');
                document.getElementById('dark-mode-toggle').classList.add('active');
                darkModeEnabled = true;
            }
        }

        // Toggle dark mode
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
            document.getElementById('dark-mode-toggle').classList.toggle('active');
            darkModeEnabled = !darkModeEnabled;
            localStorage.setItem('darkMode', darkModeEnabled);
            playSound('toggle');
        }

        // Initialize sound toggle
        function initSoundToggle() {
            if (localStorage.getItem('soundEnabled') === 'false') {
                soundEnabled = false;
                document.getElementById('sound-toggle').classList.add('muted');
                document.getElementById('sound-toggle').innerHTML = '<i class="fas fa-volume-mute"></i>';
            }
        }

        // Toggle sound
        function toggleSound() {
            soundEnabled = !soundEnabled;
            const soundToggle = document.getElementById('sound-toggle');
            if (soundEnabled) {
                soundToggle.classList.remove('muted');
                soundToggle.innerHTML = '<i class="fas fa-volume-up"></i>';
            } else {
                soundToggle.classList.add('muted');
                soundToggle.innerHTML = '<i class="fas fa-volume-mute"></i>';
            }
            localStorage.setItem('soundEnabled', soundEnabled);
            if (soundEnabled) playSound('toggle');
        }

        // Play sound effect
        function playSound(type) {
            if (!soundEnabled) return;
            
            // Create audio context for sound effects
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            // Different sounds for different actions
            switch(type) {
                case 'add':
                    oscillator.frequency.value = 800;
                    gainNode.gain.value = 0.1;
                    oscillator.start();
                    oscillator.stop(audioContext.currentTime + 0.1);
                    break;
                case 'remove':
                    oscillator.frequency.value = 400;
                    gainNode.gain.value = 0.1;
                    oscillator.start();
                    oscillator.stop(audioContext.currentTime + 0.1);
                    break;
                case 'success':
                    oscillator.frequency.value = 600;
                    gainNode.gain.value = 0.1;
                    oscillator.start();
                    oscillator.stop(audioContext.currentTime + 0.2);
                    break;
                case 'toggle':
                    oscillator.frequency.value = 500;
                    gainNode.gain.value = 0.05;
                    oscillator.start();
                    oscillator.stop(audioContext.currentTime + 0.05);
                    break;
            }
        }

        // Debounce function for search
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        // Render food items with improved rating display
        function renderFoodItems(items) {
            const container = document.getElementById('food-items');
            container.innerHTML = '';
            
            // Use document fragment for better performance
            const fragment = document.createDocumentFragment();
            
            items.forEach(item => {
                const foodCard = document.createElement('div');
                foodCard.className = 'food-card';
                foodCard.innerHTML = `
                    <div class="relative overflow-hidden h-32 md:h-40 food-card-image">
                        <img src="${item.image}" alt="${item.name}" class="w-full h-full object-cover">
                        <div class="food-item-badge">${getCategoryName(item.category)}</div>
                        ${item.isNew ? '<div class="absolute top-8 left-8 bg-green-500 text-white px-2 py-1 rounded text-xs font-bold">NEW</div>' : ''}
                        ${item.popular ? '<div class="absolute top-8 left-8 bg-orange-500 text-white px-2 py-1 rounded text-xs font-bold">POPULAR</div>' : ''}
                        <!-- Veg/Non-veg indicator in right bottom -->
                                                <div class="absolute bottom-2 right-2 w-6 h-6 rounded-full flex items-center justify-center ${item.type === 'veg' ? 'bg-green-500' : 'bg-red-500'}">
                            ${item.type === 'veg' ? 
                                '<div class="w-3 h-3 bg-white rounded-full"></div>' : 
                                '<div class="w-3 h-3 bg-white rounded-sm"></div>'
                            }
                        </div>
                        <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-2">
                            <h3 class="text-white font-bold text-sm food-card-title">${item.name}</h3>
                        </div>
                    </div>
                    <div class="p-3">
                        <p class="text-gray-600 text-xs mb-2 line-clamp-2 food-card-description">${item.description}</p>
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-lg font-bold text-purple-600 food-card-price">â‚¹${item.price.toFixed(2)}</span>
                            <div class="rating-display">
                                ${generateStars(item.rating)}
                                <span class="rating-value">(${item.rating})</span>
                            </div>
                        </div>
                        <button onclick="showCustomization(${item.id})" class="w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white px-2 py-1 rounded-lg hover:shadow-lg transition text-xs font-medium food-card-button">
                            <i class="fas fa-plus mr-1"></i> Add
                        </button>
                    </div>
                `;
                fragment.appendChild(foodCard);
            });
            
            container.appendChild(fragment);
        }

        // Generate star rating display
        function generateStars(rating) {
            let stars = '';
            for (let i = 1; i <= 5; i++) {
                if (i <= rating) {
                    stars += '<i class="fas fa-star rating-star"></i>';
                } else if (i - 0.5 <= rating) {
                    stars += '<i class="fas fa-star-half-alt rating-star"></i>';
                } else {
                    stars += '<i class="far fa-star rating-star empty"></i>';
                }
            }
            return stars;
        }

        // Get category display name
        function getCategoryName(category) {
            const names = {
                'burger': 'Burger',
                'pizza': 'Pizza',
                'sandwich': 'Sandwich',
                'pasta': 'Pasta',
                'rolls': 'Rolls',
                'chinese': 'Chinese',
                'drink': 'Drink',
                'dessert': 'Dessert',
                'combo': 'Combo'
            };
            return names[category] || category;
        }

        // Toggle dropdown
        function toggleDropdown(dropdownId) {
            const dropdown = document.getElementById(dropdownId);
            dropdown.classList.toggle('show');
            
            // Close other dropdowns
            document.querySelectorAll('.filter-dropdown-content').forEach(d => {
                if (d.id !== dropdownId) {
                    d.classList.remove('show');
                }
            });
        }

        // Select filter
        function selectFilter(filterType, value) {
            // Update active filter state
            activeFilters[filterType] = value;
            
            // Update UI to show selected filter
            document.querySelectorAll(`#${filterType}-dropdown .filter-option`).forEach(option => {
                option.classList.remove('selected');
                if (option.getAttribute('data-value') === value) {
                    option.classList.add('selected');
                }
            });
            
            // Update filter button text and appearance
            updateFilterButton(filterType, value);
            
            // Apply filters
            applyFilters();
            
            // Close dropdown
            document.getElementById(`${filterType}-dropdown`).classList.remove('show');
        }

        // Update filter button appearance
        function updateFilterButton(filterType, value) {
            const button = document.getElementById(`${filterType}-filter-btn`);
            const textSpan = document.getElementById(`${filterType}-filter-text`);
            
            // Update text based on selected value
            const displayTexts = {
                'price': {
                    'all': 'Price',
                    '0-100': 'Under â‚¹100',
                    '100-200': 'â‚¹100-200',
                    '200-300': 'â‚¹200-300',
                    '300+': 'Above â‚¹300'
                },
                'type': {
                    'all': 'Type',
                    'veg': 'Vegetarian',
                    'non-veg': 'Non-Veg',
                    'vegan': 'Vegan'
                },
                'rating': {
                    'all': 'Rating',
                    '4+': '4+ Stars',
                    '3+': '3+ Stars',
                    '2+': '2+ Stars'
                },
                'availability': {
                    'all': 'Availability',
                    'available': 'Available',
                    'popular': 'Popular',
                    'new': 'New'
                }
            };
            
            textSpan.textContent = displayTexts[filterType][value];
            
            // Add active class and clear button if not default
            if (value !== 'all') {
                button.classList.add('active');
                if (!button.querySelector('.clear-filter')) {
                    const clearBtn = document.createElement('button');
                    clearBtn.className = 'clear-filter';
                    clearBtn.innerHTML = 'Ã—';
                    clearBtn.onclick = (e) => {
                        e.stopPropagation();
                        selectFilter(filterType, 'all');
                    };
                    button.appendChild(clearBtn);
                }
            } else {
                button.classList.remove('active');
                const clearBtn = button.querySelector('.clear-filter');
                if (clearBtn) {
                    clearBtn.remove();
                }
            }
        }

        // Apply all active filters
        function applyFilters() {
            let filtered = foodMenu;
            
            // Apply price filter
            if (activeFilters.price !== 'all') {
                if (activeFilters.price === '0-100') {
                    filtered = filtered.filter(item => item.price < 100);
                } else if (activeFilters.price === '100-200') {
                    filtered = filtered.filter(item => item.price >= 100 && item.price < 200);
                } else if (activeFilters.price === '200-300') {
                    filtered = filtered.filter(item => item.price >= 200 && item.price < 300);
                } else if (activeFilters.price === '300+') {
                    filtered = filtered.filter(item => item.price >= 300);
                }
            }
            
            // Apply type filter
            if (activeFilters.type !== 'all') {
                filtered = filtered.filter(item => item.type === activeFilters.type);
            }
            
            // Apply rating filter - Fixed this part
            if (activeFilters.rating !== 'all') {
                const minRating = parseFloat(activeFilters.rating.replace('+', ''));
                filtered = filtered.filter(item => item.rating >= minRating);
            }
            
            // Apply availability filter
            if (activeFilters.availability !== 'all') {
                if (activeFilters.availability === 'available') {
                    filtered = filtered.filter(item => item.available);
                } else if (activeFilters.availability === 'popular') {
                    filtered = filtered.filter(item => item.popular);
                } else if (activeFilters.availability === 'new') {
                    filtered = filtered.filter(item => item.isNew);
                }
            }
            
            renderFoodItems(filtered);
        }

        // Clear filters
        function clearFilters() {
            // Reset filter state
            activeFilters = {
                price: 'all',
                type: 'all',
                rating: 'all',
                availability: 'all'
            };
            
            // Update UI to show all filters as default
            Object.keys(activeFilters).forEach(filterType => {
                updateFilterButton(filterType, 'all');
                document.querySelectorAll(`#${filterType}-dropdown .filter-option`).forEach(option => {
                    option.classList.remove('selected');
                    if (option.getAttribute('data-value') === 'all') {
                        option.classList.add('selected');
                    }
                });
            });
            
            // Render all items
            renderFoodItems(foodMenu);
            
            // Close all dropdowns
            document.querySelectorAll('.filter-dropdown-content').forEach(dropdown => {
                dropdown.classList.remove('show');
            });
        }

        // Filter by category
        function filterByCategory(category) {
            currentFilter = category;
            
            // Update category buttons
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Apply filters with category
            let filtered = foodMenu;
            
            // Apply active filters first
            if (activeFilters.price !== 'all') {
                if (activeFilters.price === '0-100') {
                    filtered = filtered.filter(item => item.price < 100);
                } else if (activeFilters.price === '100-200') {
                    filtered = filtered.filter(item => item.price >= 100 && item.price < 200);
                } else if (activeFilters.price === '200-300') {
                    filtered = filtered.filter(item => item.price >= 200 && item.price < 300);
                } else if (activeFilters.price === '300+') {
                    filtered = filtered.filter(item => item.price >= 300);
                }
            }
            
            if (activeFilters.type !== 'all') {
                filtered = filtered.filter(item => item.type === activeFilters.type);
            }
            
            // Apply rating filter - Fixed this part
            if (activeFilters.rating !== 'all') {
                const minRating = parseFloat(activeFilters.rating.replace('+', ''));
                filtered = filtered.filter(item => item.rating >= minRating);
            }
            
            if (activeFilters.availability !== 'all') {
                if (activeFilters.availability === 'available') {
                    filtered = filtered.filter(item => item.available);
                } else if (activeFilters.availability === 'popular') {
                    filtered = filtered.filter(item => item.popular);
                } else if (activeFilters.availability === 'new') {
                    filtered = filtered.filter(item => item.isNew);
                }
            }
            
            // Then apply category filter
            if (category !== 'all') {
                filtered = filtered.filter(item => item.category === category);
            }
            
            renderFoodItems(filtered);
        }

        // Handle search
        function handleSearch(e) {
            const searchTerm = e.target.value.toLowerCase();
            let filtered = foodMenu;
            
            // Apply active filters first
            if (activeFilters.price !== 'all') {
                if (activeFilters.price === '0-100') {
                    filtered = filtered.filter(item => item.price < 100);
                } else if (activeFilters.price === '100-200') {
                    filtered = filtered.filter(item => item.price >= 100 && item.price < 200);
                } else if (activeFilters.price === '200-300') {
                    filtered = filtered.filter(item => item.price >= 200 && item.price < 300);
                } else if (activeFilters.price === '300+') {
                    filtered = filtered.filter(item => item.price >= 300);
                }
            }
            
            if (activeFilters.type !== 'all') {
                filtered = filtered.filter(item => item.type === activeFilters.type);
            }
            
            // Apply rating filter - Fixed this part
            if (activeFilters.rating !== 'all') {
                const minRating = parseFloat(activeFilters.rating.replace('+', ''));
                filtered = filtered.filter(item => item.rating >= minRating);
            }
            
            if (activeFilters.availability !== 'all') {
                if (activeFilters.availability === 'available') {
                    filtered = filtered.filter(item => item.available);
                } else if (activeFilters.availability === 'popular') {
                    filtered = filtered.filter(item => item.popular);
                } else if (activeFilters.availability === 'new') {
                    filtered = filtered.filter(item => item.isNew);
                }
            }
            
            // Then apply search
            if (searchTerm) {
                filtered = filtered.filter(item => 
                    item.name.toLowerCase().includes(searchTerm) ||
                    item.description.toLowerCase().includes(searchTerm)
                );
            }
            
            renderFoodItems(filtered);
        }

        // Show customization modal
        function showCustomization(itemId) {
            const item = foodMenu.find(f => f.id === itemId);
            if (item) {
                currentCustomizationItem = item;
                customizationOptions = {};
                
                const customizationContent = document.getElementById('customization-content');
                customizationContent.innerHTML = `
                    <div class="mb-4">
                        <h3 class="text-lg font-semibold">${item.name}</h3>
                        <p class="text-gray-600 text-sm">${item.description}</p>
                        <p class="text-purple-600 font-bold mt-2">â‚¹${item.price.toFixed(2)}</p>
                    </div>
                `;
                
                // Parse customization options
                if (item.customization) {
                    const options = item.customization.split('|');
                    options.forEach(option => {
                        const [label, values] = option.split(':');
                        if (label && values) {
                            const optionDiv = document.createElement('div');
                            optionDiv.className = 'customization-option';
                            optionDiv.innerHTML = `
                                <div class="customization-option-header">
                                    <span class="font-medium">${label.trim()}</span>
                                    <i class="fas fa-chevron-down"></i>
                                </div>
                                <div class="customization-option-content">
                                    ${values.trim().split(',').map(value => `
                                        <label class="flex items-center mb-2">
                                            <input type="radio" name="${label.trim()}" value="${value.trim()}" class="mr-2">
                                            <span>${value.trim()}</span>
                                        </label>
                                    `).join('')}
                                </div>
                            `;
                            customizationContent.appendChild(optionDiv);
                            
                            // Add toggle functionality
                            const header = optionDiv.querySelector('.customization-option-header');
                            const content = optionDiv.querySelector('.customization-option-content');
                            header.addEventListener('click', () => {
                                content.classList.toggle('show');
                            });
                        }
                    });
                }
                
                // Add quantity selector
                const quantityDiv = document.createElement('div');
                quantityDiv.className = 'customization-option';
                quantityDiv.innerHTML = `
                    <div class="customization-option-header">
                        <span class="font-medium">Quantity</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="customization-option-content show">
                        <div class="flex items-center gap-2">
                            <button type="button" onclick="decreaseQuantity()" class="w-8 h-8 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center">
                                <i class="fas fa-minus text-xs"></i>
                            </button>
                            <span id="customization-quantity" class="font-semibold w-8 text-center">1</span>
                            <button type="button" onclick="increaseQuantity()" class="w-8 h-8 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center">
                                <i class="fas fa-plus text-xs"></i>
                            </button>
                        </div>
                    </div>
                `;
                customizationContent.appendChild(quantityDiv);
                
                // Add extra details field
                const detailsDiv = document.createElement('div');
                detailsDiv.className = 'customization-option';
                detailsDiv.innerHTML = `
                    <div class="customization-option-header">
                        <span class="font-medium">Extra Details</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="customization-option-content">
                        <textarea id="extra-details" rows="3" placeholder="Any special requests or dietary requirements..." class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500 form-input"></textarea>
                    </div>
                `;
                customizationContent.appendChild(detailsDiv);
                
                // Open all options by default
                document.querySelectorAll('.customization-option-content').forEach(content => {
                    content.classList.add('show');
                });
                
                document.getElementById('customization-modal').style.display = 'flex';
            }
        }

        // Close customization modal
        function closeCustomization() {
            document.getElementById('customization-modal').style.display = 'none';
            currentCustomizationItem = null;
            customizationOptions = {};
        }

        // Increase quantity
        function increaseQuantity() {
            const quantityElement = document.getElementById('customization-quantity');
            let quantity = parseInt(quantityElement.textContent);
            quantity++;
            quantityElement.textContent = quantity;
        }

        // Decrease quantity
        function decreaseQuantity() {
            const quantityElement = document.getElementById('customization-quantity');
            let quantity = parseInt(quantityElement.textContent);
            if (quantity > 1) {
                quantity--;
                quantityElement.textContent = quantity;
            }
        }

        // Add to cart with customization
        function addToCartWithCustomization() {
            if (!currentCustomizationItem) return;
            
            // Collect customization options
            document.querySelectorAll('.customization-option input[type="radio"]:checked').forEach(input => {
                customizationOptions[input.name] = input.value;
            });
            
            const quantity = parseInt(document.getElementById('customization-quantity').textContent);
            const extraDetails = document.getElementById('extra-details').value;
            
            // Create customized item
            const customizedItem = {
                ...currentCustomizationItem,
                quantity: quantity,
                customization: { ...customizationOptions },
                extraDetails: extraDetails,
                customId: `${currentCustomizationItem.id}-${Date.now()}`
            };
            
            // Check if similar item exists in cart
            const existingItem = cart.find(c => 
                c.id === customizedItem.id && 
                JSON.stringify(c.customization) === JSON.stringify(customizedItem.customization)
            );
            
            if (existingItem) {
                existingItem.quantity += quantity;
            } else {
                cart.push(customizedItem);
            }
            
            updateCart();
            saveCartToStorage();
            closeCustomization();
            
            // Show item added toast notification
            showItemAddedToast();
            playSound('add');
            
            const cartCount = document.getElementById('cart-count');
            cartCount.classList.add('badge-pulse');
            setTimeout(() => cartCount.classList.remove('badge-pulse'), 1000);
        }

        // Update cart display
        function updateCart() {
            const cartItems = document.getElementById('cart-items');
            const cartCount = document.getElementById('cart-count');
            const cartTotal = document.getElementById('cart-total');
            
            cartItems.innerHTML = '';
            let total = 0;
            let count = 0;
            
            if (cart.length === 0) {
                cartItems.innerHTML = '<p class="text-gray-500 text-center py-4">Your cart is empty</p>';
            } else {
                const fragment = document.createDocumentFragment();
                cart.forEach(item => {
                    total += item.price * item.quantity;
                    count += item.quantity;
                    
                    const cartItem = document.createElement('div');
                    cartItem.className = 'cart-item-enter bg-gray-50 rounded-lg p-3 cart-item';
                    
                    // Build customization display
                    let customizationDisplay = '';
                    if (item.customization && Object.keys(item.customization).length > 0) {
                        customizationDisplay = '<div class="text-xs text-gray-500 mb-1">';
                        for (const [key, value] of Object.entries(item.customization)) {
                            customizationDisplay += `${key}: ${value}<br>`;
                        }
                        customizationDisplay += '</div>';
                    }
                    
                    cartItem.innerHTML = `
                        <div class="flex justify-between items-start mb-2">
                            <div class="flex-1">
                                <h4 class="font-semibold text-sm cart-item-name">${item.name}</h4>
                                <p class="text-xs text-gray-600 cart-item-price">â‚¹${item.price.toFixed(2)} each</p>
                                ${customizationDisplay}
                            </div>
                            <button onclick="removeFromCart('${item.customId || item.id}')" class="text-red-500 hover:text-red-700 transition">
                                <i class="fas fa-trash text-sm"></i>
                            </button>
                        </div>
                        <div class="flex items-center justify-between">
                            <div class="flex items-center gap-2">
                                <button onclick="updateQuantity('${item.customId || item.id}', -1)" class="w-6 h-6 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center transition">
                                    <i class="fas fa-minus text-xs"></i>
                                </button>
                                <span class="font-semibold text-sm w-4 text-center cart-quantity">${item.quantity}</span>
                                <button onclick="updateQuantity('${item.customId || item.id}', 1)" class="w-6 h-6 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center transition">
                                    <i class="fas fa-plus text-xs"></i>
                                </button>
                            </div>
                            <span class="font-bold text-sm">â‚¹${(item.price * item.quantity).toFixed(2)}</span>
                        </div>
                    `;
                    fragment.appendChild(cartItem);
                });
                cartItems.appendChild(fragment);
            }
            
            cartCount.textContent = count;
            cartTotal.textContent = `â‚¹${total.toFixed(2)}`;
        }

        // Update quantity
        function updateQuantity(itemId, change) {
            const item = cart.find(c => (c.customId && c.customId === itemId) || (!c.customId && c.id === itemId));
            if (item) {
                item.quantity += change;
                if (item.quantity <= 0) {
                    removeFromCart(itemId);
                } else {
                    updateCart();
                    saveCartToStorage();
                }
            }
        }

        // Remove from cart
        function removeFromCart(itemId) {
            cart = cart.filter(item => (item.customId && item.customId !== itemId) || (!item.customId && item.id !== itemId));
            updateCart();
            saveCartToStorage();
            playSound('remove');
        }

        // Toggle cart sidebar
        function toggleCart() {
            const sidebar = document.getElementById('cart-sidebar');
            sidebar.classList.toggle('translate-x-full');
        }

        // Proceed to checkout
        function proceedToCheckout() {
            if (cart.length === 0) {
                showToast('Your cart is empty!');
                return;
            }
            document.getElementById('checkout-modal').style.display = 'flex';
            toggleCart();
        }

        // Close checkout
        function closeCheckout() {
            document.getElementById('checkout-modal').style.display = 'none';
        }

        // Select payment method
        function selectPaymentMethod(method) {
            selectedPaymentMethod = method;
            
            // Update UI
            document.querySelectorAll('.payment-method-card').forEach(card => {
                card.classList.remove('selected');
            });
            event.currentTarget.classList.add('selected');
            
            // Hide all payment forms
            document.getElementById('card-payment-form').classList.add('hidden');
            document.getElementById('upi-payment-form').classList.add('hidden');
            document.getElementById('wallet-payment-form').classList.add('hidden');
            
            // Show selected payment form
            if (method === 'card') {
                document.getElementById('card-payment-form').classList.remove('hidden');
            } else if (method === 'upi') {
                document.getElementById('upi-payment-form').classList.remove('hidden');
            } else if (method === 'wallet') {
                document.getElementById('wallet-payment-form').classList.remove('hidden');
            }
        }

        // Handle checkout
        function handleCheckout(e) {
            e.preventDefault();
            
            if (!selectedPaymentMethod) {
                showToast('Please select a payment method');
                return;
            }
            
            // Validate payment details
            if (selectedPaymentMethod === 'card') {
                const cardNumber = document.getElementById('card-number').value;
                const cardExpiry = document.getElementById('card-expiry').value;
                const cardCvv = document.getElementById('card-cvv').value;
                
                if (!cardNumber || !cardExpiry || !cardCvv) {
                    showToast('Please fill all card details');
                    return;
                }
            } else if (selectedPaymentMethod === 'upi') {
                const upiId = document.getElementById('upi-id').value;
                if (!upiId) {
                    showToast('Please enter UPI ID');
                    return;
                }
            }
            
            // Store order data
            currentOrderData = {
                name: document.getElementById('customer-name').value,
                phone: document.getElementById('customer-phone').value,
                email: document.getElementById('customer-email').value,
           
                payment: selectedPaymentMethod
            };
            
            // Simulate payment processing
            closeCheckout();
            processPayment();
        }

        // Process payment
        function processPayment() {
            // Show loading state
            showToast('Processing payment...');
            
            // Simulate payment delay
            setTimeout(() => {
                // Generate token
                const tokenNumber = generateToken();
                
                // Store order
                const order = {
                    id: 'ORD' + Date.now(),
                    token: tokenNumber,
                    date: new Date().toISOString(),
                    customer: currentOrderData,
                    items: [...cart],
                    total: cart.reduce((sum, item) => sum + (item.price * item.quantity), 0),
                    status: 'pending'
                };
                
                orderHistory.push(order);
                saveOrderHistoryToStorage();
                
                // Store token
                tokenHistory.push({
                    token: tokenNumber,
                    orderId: order.id,
                    date: order.date,
                    customer: currentOrderData.name,
                    status: 'pending'
                });
                saveTokenHistoryToStorage();
                
                // Show payment success
                document.getElementById('token-number').textContent = tokenNumber;
                document.getElementById('payment-success-modal').style.display = 'flex';
                
                // Generate receipt
                generateReceipt(order, tokenNumber);
                
                // Clear cart after successful payment
                cart = [];
                updateCart();
                saveCartToStorage();
                
                playSound('success');
            }, 2000);
        }

        // Generate token
        function generateToken() {
            const token = `${tokenPrefix}${String(currentTokenNumber).padStart(3, '0')}`;
            currentTokenNumber++;
            updateTokenDisplay();
            return token;
        }

        // Update token display
        function updateTokenDisplay() {
            const tokenDisplay = `${tokenPrefix}${String(currentTokenNumber).padStart(3, '0')}`;
            document.getElementById('current-token').textContent = tokenDisplay;
            document.getElementById('current-token-header').textContent = tokenDisplay;
            document.getElementById('next-token-display').textContent = tokenDisplay;
        }

        // Generate receipt
        function generateReceipt(order, tokenNumber) {
            const orderNumber = order.id;
            const date = new Date(order.date).toLocaleString();
            const subtotal = order.total;
            const tax = subtotal * (restaurantSettings.taxRate / 100);
            const total = subtotal + tax;
            
            document.getElementById('receipt-order-number').textContent = orderNumber;
            document.getElementById('receipt-token-number').textContent = tokenNumber;
            document.getElementById('receipt-date').textContent = date;
            document.getElementById('receipt-payment').textContent = order.customer.payment.toUpperCase();
            document.getElementById('receipt-customer').innerHTML = `
                ${order.customer.name}<br>
                ${order.customer.phone}<br>
                ${order.customer.email}
              `;
            
            const receiptItems = document.getElementById('receipt-items');
            receiptItems.innerHTML = '';
            order.items.forEach(item => {
                const itemDiv = document.createElement('div');
                itemDiv.className = 'flex justify-between';
                
                // Build item display with customization
                let itemDisplay = `${item.quantity}x ${item.name}`;
                if (item.customization && Object.keys(item.customization).length > 0) {
                    itemDisplay += '<div class="text-xs text-gray-500">';
                    for (const [key, value] of Object.entries(item.customization)) {
                        itemDisplay += `${key}: ${value}, `;
                    }
                    itemDisplay = itemDisplay.slice(0, -2) + '</div>';
                }
                
                itemDiv.innerHTML = `
                    <div>${itemDisplay}</div>
                    <span>â‚¹${(item.price * item.quantity).toFixed(2)}</span>
                `;
                receiptItems.appendChild(itemDiv);
            });
            
            document.getElementById('receipt-subtotal').textContent = `â‚¹${subtotal.toFixed(2)}`;
            document.getElementById('receipt-tax').textContent = `â‚¹${tax.toFixed(2)}`;
            document.getElementById('receipt-total').textContent = `â‚¹${total.toFixed(2)}`;
            
            // Generate QR code
            const qrcodeContainer = document.getElementById('qrcode');
            qrcodeContainer.innerHTML = '';
            new QRCode(qrcodeContainer, {
                text: `Order: ${orderNumber}, Token: ${tokenNumber}, Amount: â‚¹${total.toFixed(2)}`,
                width: 128,
                height: 128,
                colorDark: '#000000',
                colorLight: '#ffffff',
                correctLevel: QRCode.CorrectLevel.H
            });
        }

        // Print receipt
        function printReceipt() {
            window.print();
        }

        // Download receipt
        function downloadReceipt() {
            // Create receipt content
            const orderNumber = document.getElementById('receipt-order-number').textContent;
            const tokenNumber = document.getElementById('receipt-token-number').textContent;
            const date = document.getElementById('receipt-date').textContent;
            const payment = document.getElementById('receipt-payment').textContent;
            const customer = document.getElementById('receipt-customer').innerHTML;
            const items = document.getElementById('receipt-items').innerHTML;
            const subtotal = document.getElementById('receipt-subtotal').textContent;
            const tax = document.getElementById('receipt-tax').textContent;
            const total = document.getElementById('receipt-total').textContent;
            
            const receiptContent = `
                <html>
                <head>
                    <title>QuickBite Receipt - ${orderNumber}</title>
                    <style>
                        body { font-family: Arial, sans-serif; margin: 20px; }
                        .header { text-align: center; margin-bottom: 20px; }
                        .info { margin-bottom: 15px; }
                        .items { margin-bottom: 15px; }
                        .total { font-weight: bold; }
                        .footer { text-align: center; margin-top: 20px; }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <h1>QuickBite</h1>
                        <p>Fast Food Restaurant</p>
                        <p>123 Food Street, City</p>
                    </div>
                    <div class="info">
                        <p><strong>Order #:</strong> ${orderNumber}</p>
                        <p><strong>Token #:</strong> ${tokenNumber}</p>
                        <p><strong>Date:</strong> ${date}</p>
                        <p><strong>Payment:</strong> ${payment}</p>
                        <p><strong>Customer:</strong></p>
                        <div>${customer.replace(/<br>/g, '<br>')}</div>
                    </div>
                    <div class="items">
                        <h3>Order Items</h3>
                        ${items.replace(/<div class="flex justify-between">/g, '<div>').replace(/<\/div>/g, '</div>')}
                    </div>
                    <div class="total">
                        <p><strong>Subtotal:</strong> ${subtotal}</p>
                        <p><strong>Tax (5%):</strong> ${tax}</p>
                        <p><strong>Total:</strong> ${total}</p>
                    </div>
                    <div class="footer">
                        <p>Thank you for your order!</p>
                        <p>Please visit again</p>
                    </div>
                </body>
                </html>
            `;
            
            // Create blob and download
            const blob = new Blob([receiptContent], { type: 'text/html' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `QuickBite_Receipt_${orderNumber}.html`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
            
            showToast('Receipt downloaded successfully!');
        }

        // Close receipt
        function closeReceipt() {
            document.getElementById('receipt-modal').style.display = 'none';
            // Show feedback modal after closing receipt
            showFeedback();
        }

        // Close payment success
        function closePaymentSuccess() {
            document.getElementById('payment-success-modal').style.display = 'none';
            document.getElementById('receipt-modal').style.display = 'flex';
        }

        // Show feedback modal
        function showFeedback() {
            // Pre-fill feedback form with customer details from the last order
            if (currentOrderData) {
                document.getElementById('feedback-name').value = currentOrderData.name;
                document.getElementById('feedback-email').value = currentOrderData.email;
            }
            
            document.getElementById('feedback-modal').style.display = 'flex';
        }

        // Close feedback modal
        function closeFeedback() {
            document.getElementById('feedback-modal').style.display = 'none';
        }

        // Set rating
        function setRating(rating) {
            document.querySelectorAll('.rating-star').forEach((star, index) => {
                if (index < rating) {
                    star.classList.add('active');
                } else {
                    star.classList.remove('active');
                }
            });
        }

        // Handle feedback submission
        function handleFeedback(e) {
            e.preventDefault();
            
            const rating = document.querySelectorAll('.rating-star.active').length;
            if (rating === 0) {
                showToast('Please select a rating');
                return;
            }
            
            const feedback = {
                id: Date.now(),
                date: new Date().toISOString(),
                name: document.getElementById('feedback-name').value,
                email: document.getElementById('feedback-email').value,
                rating: rating,
                message: document.getElementById('feedback-message').value
            };
            
            feedbackList.push(feedback);
            saveFeedbackToStorage();
            
            closeFeedback();
            document.getElementById('feedback-thanks-modal').style.display = 'flex';
            document.getElementById('feedback-form').reset();
            setRating(0);
            
            playSound('success');
        }

        // Close feedback thanks modal
        function closeFeedbackThanks() {
            document.getElementById('feedback-thanks-modal').style.display = 'none';
            
            // Reset cart to zero after feedback
            cart = [];
            updateCart();
            saveCartToStorage();
            
            // Reset order data
            currentOrderData = null;
        }

        // Show toast notification
        function showToast(message) {
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toast-message');
            toastMessage.textContent = message;
            
            // Show toast with animation
            toast.classList.add('show');
            toast.style.display = 'block';
            
            // Hide after 3 seconds
            setTimeout(() => {
                toast.classList.add('hide');
                setTimeout(() => {
                    toast.classList.remove('show', 'hide');
                    toast.style.display = 'none';
                }, 300);
            }, 3000);
        }

        // Show item added toast notification
        function showItemAddedToast() {
            const toast = document.getElementById('item-added-toast');
            
            // Show toast with animation
            toast.classList.add('show');
            toast.style.display = 'block';
            
            // Hide after 1.5 seconds
            setTimeout(() => {
                toast.classList.add('hide');
                setTimeout(() => {
                    toast.classList.remove('show', 'hide');
                    toast.style.display = 'none';
                }, 300);
            }, 1500);
        }

        // Admin Functions
        function showAdminLogin() {
            document.getElementById('admin-login-modal').style.display = 'flex';
        }

        function closeAdminLogin() {
            document.getElementById('admin-login-modal').style.display = 'none';
        }

        function handleAdminLogin(e) {
            e.preventDefault();
            const username = document.getElementById('admin-username').value;
            const password = document.getElementById('admin-password').value;
            
            if (username === 'admin' && password === 'admin123') {
                isAdminLoggedIn = true;
                closeAdminLogin();
                showAdminPanel();
                updateAdminDashboard();
            } else {
                showToast('Invalid credentials!');
            }
        }

        function showAdminPanel() {
            document.getElementById('admin-panel').style.display = 'flex';
            renderAdminItems();
            updateAdminDashboard();
        }

        function closeAdminPanel() {
            document.getElementById('admin-panel').style.display = 'none';
        }

        // Switch admin tab
        function switchAdminTab(tabName) {
            // Update tab buttons
            document.querySelectorAll('.admin-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Update tab content
            document.querySelectorAll('.admin-tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById(`admin-${tabName}`).classList.add('active');
            
            // Load tab-specific data
            if (tabName === 'orders') {
                renderOrders();
            } else if (tabName === 'tokens') {
                renderTokens();
            } else if (tabName === 'feedback') {
                renderFeedback();
            } else if (tabName === 'settings') {
                loadSettings();
            }
        }

        // Update admin dashboard
        function updateAdminDashboard() {
            // Calculate statistics
            const totalOrders = orderHistory.length;
            const totalRevenue = orderHistory.reduce((sum, order) => sum + order.total, 0);
            const totalFeedback = feedbackList.length;
            
            // Update dashboard
            document.getElementById('total-orders').textContent = totalOrders;
            document.getElementById('total-revenue').textContent = `â‚¹${totalRevenue.toFixed(2)}`;
            document.getElementById('total-feedback').textContent = totalFeedback;
            
            // Render recent orders
            renderRecentOrders();
        }

        // Render recent orders
        function renderRecentOrders() {
            const tbody = document.getElementById('recent-orders-tbody');
            tbody.innerHTML = '';
            
            // Get last 5 orders
            const recentOrders = [...orderHistory].reverse().slice(0, 5);
            
            if (recentOrders.length === 0) {
                tbody.innerHTML = '<tr><td colspan="5" class="text-center py-2">No orders yet</td></tr>';
                return;
            }
            
            recentOrders.forEach(order => {
                const tr = document.createElement('tr');
                tr.className = 'border-b';
                tr.innerHTML = `
                    <td class="py-2">${order.id}</td>
                    <td class="py-2">${order.token}</td>
                    <td class="py-2">${order.customer.name}</td>
                    <td class="py-2">â‚¹${order.total.toFixed(2)}</td>
                    <td class="py-2">
                        <span class="px-2 py-1 rounded text-xs ${getStatusClass(order.status)}">${order.status}</span>
                    </td>
                `;
                tbody.appendChild(tr);
            });
        }

        // Get status class
        function getStatusClass(status) {
            switch(status) {
                case 'pending': return 'bg-yellow-100 text-yellow-800';
                case 'preparing': return 'bg-blue-100 text-blue-800';
                case 'ready': return 'bg-green-100 text-green-800';
                case 'completed': return 'bg-gray-100 text-gray-800';
                default: return 'bg-gray-100 text-gray-800';
            }
        }

        // Render orders
        function renderOrders() {
            const tbody = document.getElementById('orders-tbody');
            tbody.innerHTML = '';
            
            if (orderHistory.length === 0) {
                tbody.innerHTML = '<tr><td colspan="8" class="text-center py-2">No orders yet</td></tr>';
                return;
            }
            
            orderHistory.forEach(order => {
                const tr = document.createElement('tr');
                tr.className = 'border-b';
                tr.innerHTML = `
                    <td class="py-2">${order.id}</td>
                    <td class="py-2">${order.token}</td>
                    <td class="py-2">${new Date(order.date).toLocaleDateString()}</td>
                    <td class="py-2">${order.customer.name}</td>
                    <td class="py-2">${order.items.length} items</td>
                    <td class="py-2">â‚¹${order.total.toFixed(2)}</td>
                    <td class="py-2">
                        <select class="px-2 py-1 border rounded text-xs admin-select" onchange="updateOrderStatus('${order.id}', this.value)">
                            <option value="pending" ${order.status === 'pending' ? 'selected' : ''}>Pending</option>
                            <option value="preparing" ${order.status === 'preparing' ? 'selected' : ''}>Preparing</option>
                            <option value="ready" ${order.status === 'ready' ? 'selected' : ''}>Ready</option>
                            <option value="completed" ${order.status === 'completed' ? 'selected' : ''}>Completed</option>
                        </select>
                    </td>
                    <td class="py-2">
                        <button onclick="viewOrderDetails('${order.id}')" class="text-blue-500 hover:text-blue-700 mr-2">
                            <i class="fas fa-eye admin-icon"></i>
                        </button>
                        <button onclick="deleteOrder('${order.id}')" class="text-red-500 hover:text-red-700">
                            <i class="fas fa-trash admin-icon"></i>
                        </button>
                    </td>
                `;
                tbody.appendChild(tr);
            });
        }

        // Update order status
        function updateOrderStatus(orderId, status) {
            const order = orderHistory.find(o => o.id === orderId);
            if (order) {
                order.status = status;
                saveOrderHistoryToStorage();
                
                // Update token status
                const token = tokenHistory.find(t => t.orderId === orderId);
                if (token) {
                    token.status = status;
                    saveTokenHistoryToStorage();
                }
                
                showToast('Order status updated');
            }
        }

        // View order details
        function viewOrderDetails(orderId) {
            const order = orderHistory.find(o => o.id === orderId);
            if (order) {
                // Create a simple alert with order details
                let details = `Order #${order.id}\nToken: ${order.token}\nCustomer: ${order.customer.name}\nDate: ${new Date(order.date).toLocaleString()}\n\nItems:\n`;
                
                order.items.forEach(item => {
                    details += `${item.quantity}x ${item.name} - â‚¹${(item.price * item.quantity).toFixed(2)}\n`;
                });
                
                details += `\nTotal: â‚¹${order.total.toFixed(2)}`;
                
                alert(details);
            }
        }

        // Delete order
        function deleteOrder(orderId) {
            if (confirm('Are you sure you want to delete this order?')) {
                orderHistory = orderHistory.filter(o => o.id !== orderId);
                saveOrderHistoryToStorage();
                renderOrders();
                updateAdminDashboard();
                showToast('Order deleted');
            }
        }

        // Render tokens
        function renderTokens() {
            const tbody = document.getElementById('tokens-tbody');
            tbody.innerHTML = '';
            
            if (tokenHistory.length === 0) {
                tbody.innerHTML = '<tr><td colspan="5" class="text-center py-2">No tokens yet</td></tr>';
                return;
            }
            
            tokenHistory.forEach(token => {
                const tr = document.createElement('tr');
                tr.className = 'border-b';
                tr.innerHTML = `
                    <td class="py-2">${token.token}</td>
                    <td class="py-2">${token.orderId}</td>
                    <td class="py-2">${new Date(token.date).toLocaleDateString()}</td>
                    <td class="py-2">${token.customer}</td>
                    <td class="py-2">
                        <span class="px-2 py-1 rounded text-xs ${getStatusClass(token.status)}">${token.status}</span>
                    </td>
                `;
                tbody.appendChild(tr);
            });
        }

        // Reset token counter
        function resetTokenCounter() {
            if (confirm('Are you sure you want to reset the token counter? This will start from T001 again.')) {
                currentTokenNumber = 1;
                updateTokenDisplay();
                showToast('Token counter reset');
            }
        }

        // Render feedback
        function renderFeedback() {
            const tbody = document.getElementById('feedback-tbody');
            tbody.innerHTML = '';
            
            if (feedbackList.length === 0) {
                tbody.innerHTML = '<tr><td colspan="6" class="text-center py-2">No feedback yet</td></tr>';
                return;
            }
            
            feedbackList.forEach(feedback => {
                const tr = document.createElement('tr');
                tr.className = 'border-b';
                tr.innerHTML = `
                    <td class="py-2">${new Date(feedback.date).toLocaleDateString()}</td>
                    <td class="py-2">${feedback.name}</td>
                    <td class="py-2">${feedback.email}</td>
                    <td class="py-2">
                        ${Array(feedback.rating).fill('<i class="fas fa-star text-yellow-500"></i>').join('')}
                        ${Array(5-feedback.rating).fill('<i class="far fa-star text-gray-300"></i>').join('')}
                    </td>
                    <td class="py-2">${feedback.message.substring(0, 50)}${feedback.message.length > 50 ? '...' : ''}</td>
                    <td class="py-2">
                        <button onclick="viewFeedbackDetails('${feedback.id}')" class="text-blue-500 hover:text-blue-700 mr-2">
                            <i class="fas fa-eye admin-icon"></i>
                        </button>
                        <button onclick="deleteFeedback('${feedback.id}')" class="text-red-500 hover:text-red-700">
                            <i class="fas fa-trash admin-icon"></i>
                        </button>
                    </td>
                `;
                tbody.appendChild(tr);
            });
        }

        // View feedback details
        function viewFeedbackDetails(feedbackId) {
            const feedback = feedbackList.find(f => f.id == feedbackId);
            if (feedback) {
                alert(`Date: ${new Date(feedback.date).toLocaleString()}\nName: ${feedback.name}\nEmail: ${feedback.email}\nRating: ${feedback.rating}/5\n\nMessage:\n${feedback.message}`);
            }
        }

        // Delete feedback
        function deleteFeedback(feedbackId) {
            if (confirm('Are you sure you want to delete this feedback?')) {
                feedbackList = feedbackList.filter(f => f.id != feedbackId);
                saveFeedbackToStorage();
                renderFeedback();
                updateAdminDashboard();
                showToast('Feedback deleted');
            }
        }

        // Load settings
        function loadSettings() {
            document.getElementById('restaurant-name').value = restaurantSettings.name;
            document.getElementById('restaurant-address').value = restaurantSettings.address;
            document.getElementById('tax-rate').value = restaurantSettings.taxRate;
            document.getElementById('token-prefix').value = restaurantSettings.tokenPrefix;
            document.getElementById('sound-enabled').checked = soundEnabled;
            document.getElementById('dark-mode-default').checked = localStorage.getItem('darkMode') === 'true';
        }

        // Handle settings
        function handleSettings(e) {
            e.preventDefault();
            
            restaurantSettings.name = document.getElementById('restaurant-name').value;
            restaurantSettings.address = document.getElementById('restaurant-address').value;
            restaurantSettings.taxRate = parseFloat(document.getElementById('tax-rate').value);
            restaurantSettings.tokenPrefix = document.getElementById('token-prefix').value;
            
            tokenPrefix = restaurantSettings.tokenPrefix;
            updateTokenDisplay();
            
            soundEnabled = document.getElementById('sound-enabled').checked;
            localStorage.setItem('soundEnabled', soundEnabled);
            
            const darkModeDefault = document.getElementById('dark-mode-default').checked;
            localStorage.setItem('darkModeDefault', darkModeDefault);
            
            saveSettingsToStorage();
            showToast('Settings saved');
        }

        function renderAdminItems() {
            const container = document.getElementById('admin-items-list');
            container.innerHTML = '';
            
            const fragment = document.createDocumentFragment();
            foodMenu.forEach(item => {
                const itemCard = document.createElement('div');
                itemCard.className = 'bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-3 border border-purple-200';
                itemCard.innerHTML = `
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-2">
                            <img src="${item.image}" alt="${item.name}" class="w-12 h-12 object-cover rounded-lg">
                            <div>
                                <h4 class="font-bold text-sm">${item.name}</h4>
                                <p class="text-xs text-gray-600 mb-1">${item.description}</p>
                                <div class="flex gap-1">
                                    <span class="bg-purple-100 text-purple-700 px-1 py-0.5 rounded text-xs">${getCategoryName(item.category)}</span>
                                    <span class="bg-green-100 text-green-700 px-1 py-0.5 rounded text-xs">${item.type}</span>
                                    <span class="bg-blue-100 text-blue-700 px-1 py-0.5 rounded text-xs">â‚¹${item.price}</span>
                                </div>
                            </div>
                        </div>
                        <div class="flex gap-1">
                            <button onclick="openEditModal(${item.id})" class="bg-blue-500 text-white px-2 py-1 rounded hover:bg-blue-600 transition">
                                <i class="fas fa-edit text-xs"></i>
                            </button>
                            <button onclick="deleteItem(${item.id})" class="bg-red-500 text-white px-2 py-1 rounded hover:bg-red-600 transition">
                                <i class="fas fa-trash text-xs"></i>
                            </button>
                        </div>
                    </div>
                `;
                fragment.appendChild(itemCard);
            });
            container.appendChild(fragment);
        }

        function handleAddItem(e) {
            e.preventDefault();
            
            const newItem = {
                id: nextItemId++,
                name: document.getElementById('new-item-name').value,
                category: document.getElementById('new-item-category').value,
                type: document.getElementById('new-item-type').value,
                price: parseFloat(document.getElementById('new-item-price').value),
                image: document.getElementById('new-item-image').value || `https://picsum.photos/seed/item${nextItemId}/300/200.jpg`,
                description: document.getElementById('new-item-description').value,
                customization: document.getElementById('new-item-customization').value,
                rating: 4.0,
                available: true,
                popular: false,
                isNew: true
            };
            
            foodMenu.push(newItem);
            saveMenuToStorage();
            renderFoodItems(foodMenu);
            renderAdminItems();
            
            document.getElementById('add-item-form').reset();
            showToast('Item added successfully!');
            playSound('success');
        }

        function openEditModal(itemId) {
            const item = foodMenu.find(f => f.id === itemId);
            if (item) {
                document.getElementById('edit-item-id').value = item.id;
                document.getElementById('edit-item-name').value = item.name;
                document.getElementById('edit-item-category').value = item.category;
                document.getElementById('edit-item-type').value = item.type;
                document.getElementById('edit-item-price').value = item.price;
                document.getElementById('edit-item-image').value = item.image;
                document.getElementById('edit-item-description').value = item.description;
                document.getElementById('edit-item-customization').value = item.customization || '';
                document.getElementById('edit-item-preview').src = item.image;
                
                document.getElementById('edit-item-modal').style.display = 'flex';
            }
        }

        function closeEditModal() {
            document.getElementById('edit-item-modal').style.display = 'none';
        }

        function handleEditItem(e) {
            e.preventDefault();
            
            const itemId = parseInt(document.getElementById('edit-item-id').value);
            const item = foodMenu.find(f => f.id === itemId);
            
            if (item) {
                item.name = document.getElementById('edit-item-name').value;
                item.category = document.getElementById('edit-item-category').value;
                item.type = document.getElementById('edit-item-type').value;
                item.price = parseFloat(document.getElementById('edit-item-price').value);
                item.image = document.getElementById('edit-item-image').value;
                item.description = document.getElementById('edit-item-description').value;
                item.customization = document.getElementById('edit-item-customization').value;
                
                saveMenuToStorage();
                renderFoodItems(foodMenu);
                renderAdminItems();
                closeEditModal();
                showToast('Item updated successfully!');
                playSound('success');
            }
        }

        function deleteItem(itemId) {
            if (confirm('Are you sure you want to delete this item?')) {
                foodMenu = foodMenu.filter(item => item.id !== itemId);
                saveMenuToStorage();
                renderFoodItems(foodMenu);
                renderAdminItems();
                showToast('Item deleted successfully!');
                playSound('remove');
            }
        }

        // Local storage functions
        function saveCartToStorage() {
            localStorage.setItem('quickbite-cart', JSON.stringify(cart));
        }

        function loadCartFromStorage() {
            const savedCart = localStorage.getItem('quickbite-cart');
            if (savedCart) {
                cart = JSON.parse(savedCart);
                updateCart();
            }
        }

        function saveMenuToStorage() {
            localStorage.setItem('quickbite-menu', JSON.stringify(foodMenu));
        }

        function loadMenuFromStorage() {
            const savedMenu = localStorage.getItem('quickbite-menu');
            if (savedMenu) {
                foodMenu = JSON.parse(savedMenu);
                renderFoodItems(foodMenu);
            }
        }

        function saveSettingsToStorage() {
            localStorage.setItem('quickbite-settings', JSON.stringify(restaurantSettings));
        }

        function loadSettingsFromStorage() {
            const savedSettings = localStorage.getItem('quickbite-settings');
            if (savedSettings) {
                restaurantSettings = JSON.parse(savedSettings);
                tokenPrefix = restaurantSettings.tokenPrefix;
            }
        }

        function saveOrderHistoryToStorage() {
            localStorage.setItem('quickbite-orders', JSON.stringify(orderHistory));
        }

        function loadOrderHistoryFromStorage() {
            const savedOrders = localStorage.getItem('quickbite-orders');
            if (savedOrders) {
                orderHistory = JSON.parse(savedOrders);
            }
        }

        function saveFeedbackToStorage() {
            localStorage.setItem('quickbite-feedback', JSON.stringify(feedbackList));
        }

        function loadFeedbackFromStorage() {
            const savedFeedback = localStorage.getItem('quickbite-feedback');
            if (savedFeedback) {
                feedbackList = JSON.parse(savedFeedback);
            }
        }

        function saveTokenHistoryToStorage() {
            localStorage.setItem('quickbite-tokens', JSON.stringify(tokenHistory));
        }

        function loadTokenHistoryFromStorage() {
            const savedTokens = localStorage.getItem('quickbite-tokens');
            if (savedTokens) {
                tokenHistory = JSON.parse(savedTokens);
                
                // Update current token number based on history
                if (tokenHistory.length > 0) {
                    const lastToken = tokenHistory[tokenHistory.length - 1].token;
                    const lastNumber = parseInt(lastToken.replace(tokenPrefix, ''));
                    currentTokenNumber = lastNumber + 1;
                }
            }
        }
    </script>
</body>
</html>